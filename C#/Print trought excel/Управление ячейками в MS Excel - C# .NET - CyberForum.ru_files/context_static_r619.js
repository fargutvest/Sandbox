this.Ya&&this.Ya.Context||function(t,e,r){function a(){return(""+(e.characterSet||e.charset||"")).toLowerCase()}function n(n,o){function s(){for(var e={},r=["hash","host","hostname","href","pathname","port","protocol","search"],a=r.length,n=a;n--;)e[r[n]]="";try{var i=t.location;for(n=a;n--;){var o=r[n];e[o]=i[o]}}catch(s){B&&(e=B)}return e}function l(e,r){return r=r||256,e?(e.length>r&&(e=e.substr(0,r)),(t.encodeURIComponent||t.escape)(e).replace(/\+/g,"%2B")):""}function p(t){function e(t){return t?t.replace(/\\/g,"\\\\").replace(/"/g,'\\"'):""}if(t===r)return"";if(null===t)return"null";switch(t.constructor){case Boolean:return""+t;case Number:return isFinite(t)?""+t:"null";case String:return'"'+e(t)+'"';case Array:for(var a=[],n=0,i=t.length;i>n;n++)a[a.length]=p(t[n]);return"["+a.join(",")+"]";case Object:var a="{",n=0;for(var o in t)if(t.hasOwnProperty(o)){var s=t[o];s!==r&&(a+=(n?",":"")+'"'+e(o)+'":'+p(s),n++)}return a+="}";default:return"null"}}function d(){return Math.floor(1e6*Math.random())}function c(){return+new Date}function _(t){for(var e=c(),r=1;r>0;r++)if(0==r%1e3){var a=c();if(e>a)break;if(a-e>t)break}}function y(e,a,n,i,o){function d(t,e){y[y.length]=t,y[y.length]=e}o=o||{};var c=n!==r?n:j,y=[];o.ar&&!o.onlyData&&(c=u(c),e=u(e)),d("page-ref",l(c,R)),d("page-url",l(e,R)),d("browser-info",m(a,o)),-1!=s().hostname.search(/(?:^|\.)(?:ya|yandex|narod|narod2)\.(?:\w+|com\.\w+)$/)?d("ut",H):o.ut!==r&&d("ut",l(""+o.ut,V)),i&&d("site-info",l(p(i),N)),o.saveRef&&(j=c);var g=h(U,y);return"MetrikaPlayer"!=t.name&&((new Image).src=g,f(g),o.isDelay&&_(o.delay)),g}function h(t,e){for(var r=["rn",d(),"cnt-class",o].concat(e),a=[],i=0;r.length>i;i+=2){var s=r[i+1];s&&(a[a.length]=r[i]+"="+s)}return D+t+n+"?"+a.join("&")}function u(t){var e=s(),r=e.host,a=e.href;if(!t)return a;if(-1!=t.search(/^\w+:\/\//))return t;var n=t.charAt(0);if("?"==n){var i=a.search(/\?/);return-1==i?a+t:a.substr(0,i)+t}if("#"==n){var i=a.search(/#/);return-1==i?a+t:a.substr(0,i)+t}if("/"!=n){var o=a.split("/");return o[o.length-1]=t,o.join("/")}var i=a.search(r);return-1!=i?a.substr(0,i+r.length)+t:t}function f(e){"function"==typeof t.ymLog&&t.ymLog(e)}function m(n,i){function o(t,e){t&&e&&(p[p.length]=[t,e].join(":"))}function s(t){o(t,i[t]?"1":"")}i=i||{};var p=[],d=w(),c=T();z||(z=c,I=d),o("j",F.javaEnabled()?"1":""),L&&o("s",L.width+"x"+L.height+"x"+(L.colorDepth||L.pixelDepth)),null===$&&($=v()),o("f",$),o("w",E()+"x"+S()),o("z",d),o("i",c),null===G&&(G=k()),o("l",G||""),o("en",a()),o("v",M),o("c",F.cookieEnabled?"1":""),A&&e.documentMode&&(null===K&&(K=g()),K&&o("jv",K)),o("la",b()),o("ex",x()),W&&o("wh","1");for(var _=["ar","ln","dl","ad","nb","pa"],y=0;_.length>y;y++)s(_[y]);for(var h=["va","vt","sn","sa","he"],y=0;h.length>y;y++){var u=h[y];o(u,i[u])}if(o("hid",O),Y._webvisor){t.name||(t.name=Math.round(65535*Math.random()));var f=+t.name;f&&(0>f&&(f*=-1),f%=65535),o("wn",f||calcFletcherSum(t.name));try{t.opener&&t.opener.name&&o("on",calcFletcherSum(t.opener.name))}catch(m){}try{t.history&&o("hl",t.history.length+"")}catch(m){}}var B;return n===r?(B=C(),B=B?l(B,P):""):B=l(n,P),o("t",B),p.join(":")}function g(){return Function("return /*@cc_on @_jscript_version @*/;")()}function x(){return"prerender"==e.webkitVisibilityState?"pre1":""}function b(){return(F&&(F.language||F.browserLanguage)||"").toLowerCase()}function v(){var e,a=null,n=null,i=t.navigator,o="application/x-shockwave-flash",s="Shockwave Flash",l="ShockwaveFlash.ShockwaveFlash";if(i.plugins!==r&&"object"==typeof i.plugins[s])a=i.plugins[s].description,!a||i.mimeTypes!==r&&i.mimeTypes[o]&&!i.mimeTypes[o].enabledPlugin||(n=a.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,"."));else if(t.ActiveXObject!==r)try{e=new ActiveXObject(l),e&&(a=e.GetVariable("$version"),a&&(n=a.split(" ")[1].replace(/,/g,".").replace(/[^.\d]/g,"")))}catch(p){}return n}function C(){var t=e.title;if("string"!=typeof t){var r=e.getElementsByTagName("title");t=r&&r.length?r[0].innerHTML:""}return t}function k(){function e(t,e,a,n){for(;r(t,e);)e[a]+=n;e[a]-=n}function r(t,e){return t.isVersionSupported(e[0]+"."+e[1]+"."+e[2]+"."+e[3])}var a=null;if(t.ActiveXObject)try{var n=new ActiveXObject("AgControl.AgControl"),i=[1,0,0,0];e(n,i,0,1),e(n,i,1,1),e(n,i,2,1e4),e(n,i,2,1e3),e(n,i,2,100),e(n,i,2,10),e(n,i,2,1),e(n,i,3,1),a=i.join(".")}catch(o){}else{var s=F.plugins["Silverlight Plug-In"];s&&(a=s.description)}return a}function w(){return-1*(new Date).getTimezoneOffset()}function T(){function t(t){return 10>t?"0"+t:t}for(var e=new Date,r=[e.getFullYear(),e.getMonth()+1,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds()],a="",n=0;r.length>n;n++)a+=t(r[n]);return a}function E(){var t=-1;return e.documentElement&&"CSS1Compat"==e.compatMode?t=e.documentElement.clientWidth:e.body&&(t=e.body.clientWidth),t}function S(){var t=-1;return e.documentElement&&"CSS1Compat"==e.compatMode?t=e.documentElement.clientHeight:e.body&&(t=e.body.clientHeight),t}if(n){o=o||0;var I,z,B=s(),O=Math.round(Math.random()*(1<<30)),A="object"==typeof e.all,F=t.navigator,L=t.screen,D="https:"==B.protocol?"https:":"http:",M="$Rev: 1 $".match(/(\d+)/)[1],U="//mc.yandex.ru/watch/",R=A?512:2048,N=A?512:2048,P=A?100:400,V=64,H="noindex",j=null,W=!1,Y={},$=null,G=null,K=null,X=n+":"+o;i._metrika.hitParam[X]||(i._metrika.hitParam[X]=1,y(B.href,C(),e.referrer,null,{ad:!0}))}}e.body;var i=t.Ya=t.Ya||{};i.narodPageID=54273,i.apply=function(t,e,r){if(r&&i.apply(t,r),t&&e)for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);return t},i.emptyFn=function(){},function(){var a=0,n=navigator,o=e.documentMode,s=e.compatMode,l=n.userAgent.toLowerCase(),p=n.platform.toLowerCase(),d=n.plugins||{},c=l.indexOf("opera")>-1,_=l.indexOf("opera mini")>-1,y=!c&&l.indexOf("msie 7")>-1||7==o,h=!c&&l.indexOf("msie 8")>-1&&7!=o&&9!=o||8==o,f=!c&&l.indexOf("msie 9")>-1&&7!=o&&8!=o||9==o,m=!c&&l.indexOf("msie 6")>-1,g=!c&&l.indexOf("msie")>-1||m||y||h||f,x=g&&("BackCompat"==s||5==o),b=l.indexOf("chrome")>-1,v=!b&&/webkit|khtml/.test(l),C=v&&-1!=l.indexOf("webkit/5"),k=!v&&!b&&l.indexOf("gecko")>-1,w=k&&l.indexOf("rv:1.9")>-1,T=0===t.location.href.toLowerCase().indexOf("https"),E=p&&/win/.test(p)||!p&&/win/.test(u),S=p&&/mac/.test(p)||!p&&/mac/.test(u),I=-1!==(t.navigator.userAgent||"").search("webkit");i.apply(i,{extend:function(){var t=function(t){for(var e in t)this[e]=t[e]},e=Object.prototype.constructor;return function(r,a){var n,o=a.constructor!=e?a.constructor:function(){r.apply(this,arguments)},s=function(){},l=r.prototype;return s.prototype=l,n=o.prototype=new s,n.constructor=o,o.superclass=l,l.constructor==e&&(l.constructor=r),o.override=function(t){i.override(o,t)},o.override=t,i.override(o,a),o.extend=function(t){i.extend(o,t)},o}}(),xTempl:function(t,e){var r=Function("data","var platform=[];platform.push('"+t.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/\t=(.*?)%>/g,"',typeof data.$1 === 'string' || typeof data.$1 === 'number' ? data.$1 : 'data.$1','").split("	").join("');").split("%>").join("platform.push('")+"');return platform.join('');");return r(e)},genId:function(t){return t=t||"ya_context",t+ ++a},genRnd:function(){return Math.round(1e6*Math.random())},override:function(t,e){if(e){var r=t.prototype;for(var a in e)r[a]=e[a]}},applyIf:function(t,e){if(t)for(var r in e)i.isDefined(t[r])||(t[r]=e[r]);return t},isDefined:function(t){return t!==r},namespace:function(t,e,r){r=r||".";var a,n=1,o=t.split(r);for(e?n=0:e=i,a=n;o.length>a;a++)e[o[a]]||(e[o[a]]={}),e=e[o[a]];return e},deepCopy:function(t,e){if(e&&"object"==typeof e)for(var r in e)e.hasOwnProperty(r)&&("object"!=typeof e[r]||i.isArray(e[r])?t[r]=e[r]:("object"!=typeof t[r]&&(t[r]={}),i.deepCopy(t[r],e[r])));return t},keys:function(t){var e,r=[];for(e in t)t.hasOwnProperty(e)&&r.push(e);return r},isArray:function(t){return t&&"function"==typeof t.splice&&"number"==typeof t.length},isFunction:e!==r&&"function"==typeof e.getElementsByTagName("body")?function(t){return"[object Function]"===toString.call(t)}:function(t){return"function"==typeof t},inArray:function(t,e,a,n){(e===r||null===e)&&(e="");for(var i=0;t.length>i;i++){if(a&&a(e,t[i]))return i;if(n&&t[i]===e)return i;if(!a&&!n&&(""+t[i]).toLowerCase()==(""+e).toLowerCase())return i}return-1},unique:function(t){var e,r={},a=t.length,n=[];for(e=0;a>e;e++)r[t[e]]=t[e];for(e in r)n.push(r[e]);return n},inObject:function(t,e,a,n,i){e===r&&(e="");var o,s=0;for(o in t)if(t.hasOwnProperty(o)){if(n&&n(e,t[o]))return a?s:o;if(i&&t[o]===e)return a?s:o;if((""+t[o]).toLowerCase()==(""+e).toLowerCase())return a?s:o;s++}return a?-1:""},each:function(t,e,r){if(t&&t.length)for(var a=0,n=t.length;n>a;++a)e.call(r,t[a],a,t)},map:function(t,e,r){var a,n,i=Array(t.length);for(a=0,n=t.length;n>a;a++)a in t&&(i[a]=e.call(r,t[a],a,t));return i},reverse:function(t){return t.reverse()},checkNativeCode:function(t){if(!i.isFunction(t)||!i.isFunction(t.toString))return!1;var e=""+t;return/\[native code\]/.test(e)||/\/\* source code not available \*\//.test(e)},format:function(t,e){var r=Array.prototype.slice.call(arguments,1);return(""+t).replace(/(^|.|\r|\n)(\$\{(.*?)\})/g,function(t,a,n,i){return"\\"==a?n:/^[0-9]+$/.test(i)?a+[r[+i]].join(""):a+[e&&e[i]].join("")})},trim:function(t){return t.replace(/^\s+|\s+$/g,"")},camelize:function(t){return t.replace(/[-|_]([a-z])/g,function(){return arguments[1].toUpperCase()})},uncamelize:function(t){return t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})},capitalize:function(t){return t.charAt(0).toUpperCase()+t.substring(1,t.length)},normalizeColorHash:function(t){return t=(t+"").toUpperCase().replace(/^#?/,"#"),/^#[0-9A-F]{6}$/i.test(t)?t:/^#[0-9A-F]{3}$/i.test(t)?t.replace(/([0-9A-F])([0-9A-F])([0-9A-F])/i,"$1$1$2$2$3$3"):r},entityify:function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace('"',"&quot;")},quote:function(t){return t.replace("\\","\\\\").replace("'","\\'")},isOpera:c,isGecko:k,isGecko2:k&&!w,isGecko3:w,isSafari:v,isSafari3:C,isSafari2:v&&!C,isIE:g,isIE6:m,isIE7:y,isIE8:h,isIE9:f,isIEQuirks:x,docMode:o,isChrome:b,isWindows:E,isMac:S,isOperaMini:_,isSecure:T,isWebkit:I,flashVer:function(){var e,r="undefined",a="object",i="Shockwave Flash",o="ShockwaveFlash.ShockwaveFlash",s="application/x-shockwave-flash",l=[0,0,0];if(typeof d[i]==a){if(e=d[i].description,e&&(typeof n.mimeTypes==r||!n.mimeTypes[s]||n.mimeTypes[s].enabledPlugin))return e=e.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),l[0]=parseInt(e.replace(/^(.*)\..*$/,"$1"),10),l[1]=parseInt(e.replace(/^.*\.(.*)\s.*$/,"$1"),10),l[2]=/[a-zA-Z]/.test(e)?parseInt(e.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0,l}else if(typeof t.ActiveXObject!=r)try{var p=new ActiveXObject(o);if(p&&(e=p.GetVariable("$version")))return e=e.split(" ")[1].split(","),[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)]}catch(c){}return l}()}),i.ns=i.namespace}(),i.ns("Ya.Utils"),i.apply(i.Utils,{escape:function(t){return t===r?"":encodeURIComponent(t)},appendStyle:function(t,a){if(a)return e.write('<style type="text/css">'+t+"</style>"),r;var n=e.createElement("style");n.setAttribute("type","text/css"),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(e.createTextNode(t)),o.head().appendChild(n)},setImportant:function(t,e,r){setImportant=t.style.setProperty?function(t,e,r){t.style.setProperty(e,r,"important")}:function(t,e,r){t.style.cssText+=";"+e+":"+r+" !important"},setImportant(t,e,r)},isInViewPort:function(t){var e=o.getXY(t),r=e.offsetLeft,a=e.offsetTop,n=o.getWindowSize()[0],i=o.getWindowSize()[1],s=o.getWindowScroll()[0],l=o.getWindowScroll()[1];return r+t.offsetWidth>=s&&s+n>r&&a+t.offsetHeight>=l&&l+i>a},isHalfInViewPort:function(t){function e(t,e){return t>e?t-e:0}var r=o.getXY(t),a=r.offsetLeft,n=r.offsetTop,i=o.getWindowSize()[0],s=o.getWindowSize()[1],l=o.getWindowScroll()[0],p=o.getWindowScroll()[1],d={t:p,r:l+i,b:p+s,l:l},c={t:n,r:a+t.offsetWidth,b:n+t.offsetHeight,l:a},_={t:e(d.t,c.t),r:e(c.r,d.r),b:e(c.b,d.b),l:e(d.l,c.l)},y=(t.offsetWidth-_.r-_.l)*(t.offsetHeight-_.t-_.b),h=t.offsetWidth*t.offsetHeight;return y/h>=.5},once:function(t,e){e=e||this;var r,a=!1;return function(){return a?r:(a=!0,r=t.apply(e,arguments))}},debounce:function(t,e,r,a){var n;return 3==arguments.length&&"boolean"!=typeof r&&(a=r,r=!1),function(){var i=arguments;a=a||this,r&&!n&&t.apply(a,i),clearTimeout(n),n=s.setProtectedTimeout(function(){!r&&t.apply(a,i),n=null},e)}},throttle:function(t,e,r){var a,n,i;return function(){n=arguments,i=!0,r=r||this,a||function(){i?(t.apply(r,n),i=!1,a=s.setProtectedTimeout(arguments.callee,e)):a=null}()}},addScript:function(t,r){if(!t)return!1;if(r)return e.write('<script type="text/javascript" src="'+t+'"></script>'),!0;var a=e.createElement("script");return a.type="text/javascript",a.src=t,o.head().appendChild(a),a},toQueryParams:function(t){var e,a=[];for(e in t)t.hasOwnProperty(e)&&t[e]!==r&&""!==t[e]&&(a[a.length]=e+"="+i.Utils.escape(t[e]));return a.join("&")},getDocumentCharset:function(){var t,r=e.getElementsByTagName("meta");if(r&&r.length>0)for(var a=0,n=r.length;n>a;a++)if(r[a].content){var i=r[a].content.match(/charset=(.*)/);if(i){t=i[1];break}}return t=t||e.characterSet||e.charset},calcFletcherSum:function(t){for(var e="string"==typeof t?function(e){return t.charCodeAt(e)}:function(e){return t[e]},r=t.length,a=0,n=255,i=255;r;){var o=r>21?21:r;r-=o;do{var s=e(a++);if(s>255){var l=s>>8;s&=255,s^=l}n+=s,i+=n}while(--o);n=(255&n)+(n>>8),i=(255&i)+(i>>8)}var p=(255&n)+(n>>8)<<8|(255&i)+(i>>8);return 65535==p?0:p},prettify:function(t,e){if(e=e||{},e=i.apply({gluePrepositions:!0},e),/[\u0404\u0406\u0407\u0454\u0456\u0457\u0490\u0491]/.test(t))return t;t=t.replace(/&quot;/g,'"');var r="\u0430-\u043f\u0440-\u044f\u0410-\u042f\u0451\u0401",a="a-zA-Z"+r,n=RegExp("(["+a+"]) - (["+a+"])","g"),o="[\u0410\u0430]|[\u0411\u0431]\u0435\u0437|[\u0412\u0432](?:|\u044b|\u0430\u0441|\u0430\u043c|\u0441\u0435|\u0441\u0451)|[\u0413\u0433]\u0434\u0435|[\u0414\u0434](?:\u043e|\u043b\u044f)|[\u0417\u0437]\u0430|[\u0418\u0438](?:|\u0437)|[\u041a\u043a](?:|\u043e|\u0430\u043a)|[\u041c\u043c]\u044b|[\u041d\u043d](?:\u0430|\u0430\u043c|\u0430\u0441|\u0435|\u0438|\u043e)|[\u041e\u043e](?:|\u0431|\u0442)|[\u041f\u043f](?:\u043e|\u0440\u043e)|[\u0421\u0441](?:|\u043e)|[\u0422\u0442](?:\u043e|\u0443\u0442|\u044b)|[\u0423\u0443]|[\u0427\u0447]\u0442\u043e|[\u042d\u044d]\u0442\u043e",s="\u00a0",l="\u2013",p=t.match(/"/g),d=RegExp('(^|\\s)"([.\\-\\s\\d'+a+']{3,})"',"g"),c=t.match(d);return p&&c&&0==p.length%2&&p.length/2==c.length&&(t=t.replace(d,function(t,e,r){return/^[\-\s]|[\-\s]$|^[\-\s\d]+$/.test(r)?t:e+"\u00ab"+r+"\u00bb"})),e.gluePrepositions&&(t=t.replace(RegExp("(^|\\(|\\s)("+o+')\\s([\u00ab"$\\d'+a+"])","g"),"$1$2"+s+"$3")),t=t.replace(n,"$1"+s+l+" $2").replace(/ \-(\d\d?)%/g," \u2212$1%").replace(/ ([^\s]{1,2})$/,s+"$1").replace(/(\d+ (\d{3} ){0,2})\u0440\u0443\u0431([.,?!:;\s]|$)/g,function(t){return t.replace(/ /g,s)}).replace(/ !/,s+"!")},checkValue:function(t,e,a,n){return n===r&&(n=a,Math.abs(t-e)<Math.abs(t-a)&&(n=e)),t>=e&&a>=t?t:n},pureBrowserMethods:function(){function r(t,e,r){for(var a,n;t.length;)if(a=t.pop(),i.checkNativeCode(e[a]))r[a]=e[a];else{n=r[a]=e[a];try{delete e[a],r[a]=e[a],e[a]=n}catch(o){}}return r}var a={};return i.isIE8||i.isIE7?a:(a=r(["addEventListener","removeEventListener"],t,a),a=r(["getElementsByClassName"],e,a))}()}),i.Utils.RGB=function(t,e,a){var n;return(e===r||a===r)&&(n=(t||"000000").replace(/^#/,""),t=parseInt(n.substr(0,2),16)||0,e=parseInt(n.substr(2,2),16)||0,a=parseInt(n.substr(4,2),16)||0),this[0]=t,this[1]=e,this[2]=a,this},i.Utils.RGB.prototype=function(){function t(t){var e="0123456789ABCDEF";return e.charAt(t/16<<0)+e.charAt(t%16)}return{toString:function(){return"#"+t(this[0])+t(this[1])+t(this[2])},avg:function(){return(this[0]+this[1]+this[2])/3},luma:function(){return(299*this[0]+587*this[1]+114*this[2])/1e3},lighter:function(t,e,r,a){var n,i=this.rgb2Hsl();return r=r||.67,t=t||0,e=e||.33,a=a||!1,i[2]>=r&&a||r>i[2]&&!a?(i[2]+=e,i[2]>1&&(i[2]=1,i[1]+=t)):(i[2]-=e,0>i[2]&&(i[2]=0,i[1]-=t)),n=this.hsl2Rgb(i[0],i[1],i[2]),this[0]=n[0],this[1]=n[1],this[2]=n[2],this},checkContrast:function(){return this.luma()>127?!0:!1},rgb2Hsl:function(t,e,r){t=t||this[0],e=e||this[1],r=r||this[2],t/=255,e/=255,r/=255;var a,n,i=Math.max(t,e,r),o=Math.min(t,e,r),s=(i+o)/2;if(i==o)a=n=0;else{var l=i-o;switch(n=s>.5?l/(2-i-o):l/(i+o),i){case t:a=(e-r)/l+(r>e?6:0);break;case e:a=(r-t)/l+2;break;case r:a=(t-e)/l+4}a/=6}return[a,n,s]},hsl2Rgb:function(t,e,r){function a(t,e,r){return 0>r&&(r+=1),r>1&&(r-=1),1/6>r?t+6*(e-t)*r:.5>r?e:2/3>r?t+6*(e-t)*(2/3-r):t}var n,i,o;if(0==e)n=i=o=r;else{var s=.5>r?r*(1+e):r+e-r*e,l=2*r-s;n=a(l,s,t+1/3),i=a(l,s,t),o=a(l,s,t-1/3)}return[255*n,255*i,255*o]}}}(),i.Utils.Base64=new function(){function t(t,e){t=t.replace(/\r\n/g,"\n");for(var r,n="",i=0;t.length>i;i++){var o=t.charCodeAt(i);if(128>o?r=a(o):o>127&&2048>o?(r=a(192|o>>6),r+=a(128|63&o)):(r=a(224|o>>12),r+=a(128|63&o>>6),r+=a(128|63&o)),n.length+r.length>e)break;n+=r}return n}function e(t){for(var e="",r=0,a=0,n=0;t.length>r;)a=t.charCodeAt(r),128>a?(e+=String.fromCharCode(a),r++):a>191&&224>a?(n=t.charCodeAt(r+1),e+=String.fromCharCode((31&a)<<6|63&n),r+=2):(n=t.charCodeAt(r+1),c3=t.charCodeAt(r+2),e+=String.fromCharCode((15&a)<<12|(63&n)<<6|63&c3),r+=3);return e}var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",a=String.fromCharCode;this.encode=function(e,a){a=a||1e6;var n,i,o,s,l,p,d,c="",_=0;for(e=t(e,0|3*a/4);e.length>_;)n=e.charCodeAt(_++),i=e.charCodeAt(_++),o=e.charCodeAt(_++),s=n>>2,l=(3&n)<<4|i>>4,p=(15&i)<<2|o>>6,d=63&o,isNaN(i)?p=d=64:isNaN(o)&&(d=64),c=c+r.charAt(s)+r.charAt(l)+r.charAt(p)+r.charAt(d);return c},this.decode=function(t){var a,n,i,o,s,l,p,d="",c=0;for(t=t.replace(/[^A-Za-z0-9\-\_\=]/g,"");t.length>c;)o=r.indexOf(t.charAt(c++)),s=r.indexOf(t.charAt(c++)),l=r.indexOf(t.charAt(c++)),p=r.indexOf(t.charAt(c++)),a=o<<2|s>>4,n=(15&s)<<4|l>>2,i=(3&l)<<6|p,d+=String.fromCharCode(a),64!=l&&(d+=String.fromCharCode(n)),64!=p&&(d+=String.fromCharCode(i));return e(d)}},i.Utils.isSameDomain=function(e){var r,a,n,o=i.reverse(t.self.document.domain.split(".")),s=e.length,l=!0;for(a=0;s>a;a++){for(r=i.reverse(e[a].split(".")),n=0;r.length>n;n++)r[n]!=o[n]&&(l=!1);if(l)return!0;l=!0}if(l&&s>0)return!0;if(t.top&&t.self!==t.top){l=!1;try{t.top.document&&t.self.document.domain==t.top.document.domain&&(l=!0)}catch(p){}}return l},i.Utils.Warning=function(){var t=[255,247,240,231,221,210,194,174,144,112,80,35,0],e=[255,222,190,165,139,118,102,86,75,70,68,66,64],r=.85,a=i.Utils.RGB;return{getBgColor:function(r){for(var n=new a(r),i=n.avg(),o=1;t[o]>i;)o++;var s=t[o],l=t[o-1],p=e[o],d=e[o-1],c=(p+1*(i-s)/(l-s)*(d-p))/255,_=1-c,y=255*c;return""+new a(n[0]*_+y,n[1]*_+y,n[2]*_+y)},getBorderColor:function(t,e){var n=new a(t),i=new a(e);return""+new a(n[0]*r+i[0]*(1-r),n[1]*r+i[1]*(1-r),n[2]*r+i[2]*(1-r))}}}(),i.Utils.Punycode=new function(){function t(t){return 10>t-48?t-22:26>t-65?t-65:26>t-97?t-97:l}function e(t,e){return t+22+75*(26>t)-((0!=e)<<5)}function r(t,e,r){var a;for(t=r?Math.floor(t/p):t>>1,t+=Math.floor(t/e),a=0;t>(l-d)*c>>1;a+=l)t=Math.floor(t/(l-d));return Math.floor(a+(l-d+1)*t/(t+_))}function a(t,e){return t-=(26>t-97)<<5,t+((!e&&26>t-65)<<5)}this.utf16={decode:function(t){for(var e,r,a=[],n=0,i=t.length;i>n;){if(e=t.charCodeAt(n++),55296===(63488&e)){if(r=t.charCodeAt(n++),55296!==(64512&e)||56320!==(64512&r))throw new RangeError("UTF-16(decode): Illegal UTF-16 sequence");e=((1023&e)<<10)+(1023&r)+65536}a.push(e)}return a},encode:function(t){for(var e,r=[],a=0,n=t.length;n>a;){if(e=t[a++],55296===(63488&e))throw new RangeError("UTF-16(encode): Illegal UTF-16 value");e>65535&&(e-=65536,r.push(String.fromCharCode(55296|1023&e>>>10)),e=56320|1023&e),r.push(String.fromCharCode(e))}return r.join("")}};var n=128,o=72,s="-",l=36,p=700,d=1,c=26,_=38,y=2147483647;this.decode=function(e,a){var i,p,_,h,u,f,m,g,x,b,v,C,k,w=[],T=[],E=e.length;for(i=n,_=0,h=o,u=e.lastIndexOf(s),0>u&&(u=0),f=0;u>f;++f){if(a&&(T[w.length]=26>e.charCodeAt(f)-65),e.charCodeAt(f)>=128)throw new RangeError("Illegal input >= 0x80");w.push(e.charCodeAt(f))}for(m=u>0?u+1:0;E>m;){for(g=_,x=1,b=l;;b+=l){if(m>=E)throw RangeError("punycode_bad_input(1)");if(v=t(e.charCodeAt(m++)),v>=l)throw RangeError("punycode_bad_input(2)");if(v>Math.floor((y-_)/x))throw RangeError("punycode_overflow(1)");if(_+=v*x,C=h>=b?d:b>=h+c?c:b-h,C>v)break;if(x>Math.floor(y/(l-C)))throw RangeError("punycode_overflow(2)");x*=l-C}if(p=w.length+1,h=r(_-g,p,0===g),Math.floor(_/p)>y-i)throw RangeError("punycode_overflow(3)");i+=Math.floor(_/p),_%=p,a&&T.splice(_,0,26>e.charCodeAt(m-1)-65),w.splice(_,0,i),_++}if(a)for(_=0,k=w.length;k>_;_++)T[_]&&(w[_]=String.fromCharCode(w[_]).toUpperCase().charCodeAt(0));return this.utf16.encode(w)},this.encode=function(t,i){var p,_,h,u,f,m,g,x,b,v,C,k;i&&(k=this.utf16.decode(t)),t=this.utf16.decode(t.toLowerCase());var w=t.length;if(i)for(m=0;w>m;m++)k[m]=t[m]!=k[m];var T=[];for(p=n,_=0,f=o,m=0;w>m;++m)128>t[m]&&T.push(String.fromCharCode(k?a(t[m],k[m]):t[m]));for(h=u=T.length,u>0&&T.push(s);w>h;){for(g=y,m=0;w>m;++m)C=t[m],C>=p&&g>C&&(g=C);if(g-p>Math.floor((y-_)/(h+1)))throw RangeError("punycode_overflow (1)");for(_+=(g-p)*(h+1),p=g,m=0;w>m;++m){if(C=t[m],p>C&&++_>y)return Error("punycode_overflow(2)");if(C==p){for(x=_,b=l;v=f>=b?d:b>=f+c?c:b-f,!(v>x);b+=l)T.push(String.fromCharCode(e(v+(x-v)%(l-v),0))),x=Math.floor((x-v)/(l-v));T.push(String.fromCharCode(e(x,i&&k[m]?1:0))),f=r(_,h+1,h==u),_=0,++h}}++_,++p}return T.join("")},this.toASCII=function(t){for(var e=t.split("."),r=[],a=0;e.length>a;++a){var n=e[a];r.push(n.match(/[^A-Za-z0-9-]/)?"xn--"+i.Utils.Punycode.encode(n):n)}return r.join(".")},this.toUnicode=function(t){for(var e=t.split("."),r=[],a=0;e.length>a;++a){var n=e[a];r.push(n.match(/^xn--/)?i.Utils.Punycode.decode(n.slice(4)):n)}return r.join(".")}},i.Utils.JSON={},function(t){if("undefined"!=typeof JSON)return i.Utils.JSON.stringify=JSON.stringify;var e=Object.prototype.toString,r=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};i.Utils.JSON.stringify=function(n){if(null===n)return"null";if(n===t)return t;switch(e.call(n)){case"[object String]":return'"'+(r.test(n)?n.replace(r,function(t){var e=a[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}):n)+'"';case"[object Number]":case"[object Boolean]":return""+n;case"[object Array]":for(var o,s="[",l=0,p=n.length;p>l;)o=i.Utils.JSON.stringify(n[l]),s+=(l++?",":"")+(o===t?"null":o);return s+"]";case"[object Object]":var o,s="{",l=0;for(var d in n)n.hasOwnProperty(d)&&(o=i.Utils.JSON.stringify(n[d]),o!==t&&(s+=(l++?",":"")+'"'+d+'":'+o));return s+"}";default:return t}}}();var o=function(t,r){return r=r||e,"string"==typeof t&&0==t.indexOf("#")?e.getElementById(t.substr(1,t.length)):"string"==typeof t&&0==t.indexOf(".")?o.getElementsByClassName(t.substr(1,t.length),r):t};i.$=i.apply(o,{getElementsByClassName:function(t,e){if(e&&e.getElementsByClassName&&i.checkNativeCode(e.getElementsByClassName))return e.getElementsByClassName(t)||[];if(e&&i.Utils.pureBrowserMethods.getElementsByClassName)try{return i.Utils.pureBrowserMethods.getElementsByClassName.call(e,t)||[]}catch(r){}else if(!e)return[];var a,n=[],o=RegExp("\\b"+t+"\\b"),s=e.getElementsByTagName("*"),l=s.length;for(a=0;l>a;a++)o.test(s[a].className)&&n.push(s[a]);return n},css:function(t,e){if(t=o(t)){var r,a;for(r in e)a=o.normalizeCSSProperty(r,e[r]),t.style[i.camelize(a[0])]=a[1]}},classNameExists:function(t,e){return t?RegExp("(^|\\s)"+i.trim(e)+"(\\s|$)","").test(o(t).className):!1},addClass:function(t,e){return this.classNameExists(t,e)?!1:(o(t).className+=" "+e,!0)},removeClass:function(t,e){t=o(t);var r=t.className.replace(RegExp("(^|\\s)"+e+"(?=\\s|$)","g")," ");return r!=t.className?(t.className=r,!0):!1},toggleclassName:function(t,e,r){return 3>arguments.length&&(r=!this.classNameExists(t,e)),r?this.addClass(t,e):this.removeClass(t,e)},head:function(){return e.getElementsByTagName("head")[0]||e.getElementsByTagName("html")[0].appendChild(e.createElement("HEAD")),e.getElementsByTagName("head")[0]},getXY:function(t){var r=e.body;return t==r?{offsetLeft:0,offsetTop:0}:(this.getXY="getBoundingClientRect"in e.documentElement?function(t){try{var e=t.getBoundingClientRect();return{offsetLeft:Math.round(e.left+o.getWindowScroll()[0]),offsetTop:Math.round(e.top+o.getWindowScroll()[1])}}catch(r){return{offsetLeft:0,offsetTop:0}}}:function(t){var e,a,n,o,s=0,l=0;for(o="absolute"==this.getStyle(t,"position"),e=t;e;)s+=e.offsetLeft,l+=e.offsetTop,o=o||"absolute"==this.getStyle(e,"position"),i.isGecko&&(l+=a=parseInt(this.getStyle(e,"borderTopWidth"),10)||0,s+=n=parseInt(this.getStyle(e,"borderLeftWidth"),10)||0,e!=e&&"visible"!=this.getStyle(e,"overflow")&&(s+=n,l+=a)),e=e.offsetParent;for(i.isSafari&&o&&(s-=r.offsetLeft,l-=r.offsetTop),i.isGecko&&!o&&(s+=parseInt(this.getStyle(r,"borderLeftWidth"),10)||0,l+=parseInt(this.getStyle(r,"borderTopWidth"),10)||0),e=t.parentNode;e&&e!=r;)(!i.isOpera||"TR"!=e.tagName&&"inline"!=this.getStyle(e,"display"))&&(s-=e.scrollLeft,l-=e.scrollTop),e=e.parentNode;return{offsetLeft:s,offsetTop:l}},this.getXY(t))},getStyle:function(t,a){return this.getStyle=e.defaultView&&e.defaultView.getComputedStyle?function(t,a){return t&&t!=e?(a=this.normalizeCSSProperty(a,r,t),e.defaultView.getComputedStyle(t,null)[a[0]]):null}:t.currentStyle?function(t,a){return t&&t!=e&&t.currentStyle?(a=this.normalizeCSSProperty(a,r,t),t.currentStyle[a[0]]):null}:function(t,a){return t&&t!=e?(a=this.normalizeCSSProperty(a,r,t),t.style[a[0]]):null},this.getStyle(t,a)},normalizeCSSProperty:function(t,r,a){var n=a?a.style:e.documentElement.style;return t=i.camelize(t),"opacity"==t&&"string"!=typeof n.opacity?["filter",1==r?"":"Alpha(opacity="+100*r+")"]:/^(float|(style|css)Float)$/.test(t)?(t="float",a&&(t="string"==typeof n.cssFloat?"cssFloat":"styleFloat"),[t,r]):"boxShadow"==t?(["MozBoxShadow","WebkitBoxShadow","boxShadow"].forEach(function(e){"string"==typeof n[e]&&(t=e)}),[t,r]):[t,r]},getElemScroll:function(t){return t?[t.scrollLeft||0,t.scrollTop||0]:[null,null]},getWindowScroll:function(){return"number"==typeof t.pageXOffset||"number"==typeof t.pageYOffset?[t.pageXOffset,t.pageYOffset]:e.body&&(e.body.scrollLeft||e.body.scrollTop)?[e.body.scrollLeft,e.body.scrollTop]:e.documentElement&&(e.documentElement.scrollLeft||e.documentElement.scrollTop)?[e.documentElement.scrollLeft,e.documentElement.scrollTop]:[null,null]},getWindowSize:function(){return"number"==typeof t.innerWidth||"number"==typeof t.innerHeight?[t.innerWidth,t.innerHeight]:e.documentElement&&(e.documentElement.clientWidth||e.documentElement.clientHeight)?[e.documentElement.clientWidth,e.documentElement.clientHeight]:e.body&&(e.body.clientWidth||e.body.clientHeight)?[e.body.clientWidth,e.body.clientHeight]:[null,null]},remove:function(t){if(t&&t.length)for(var e=0;t.length>e;e++)o.remove(t[e]);else t&&t.parentNode&&t.parentNode.removeChild(t)},elemHasScroll:function(t,e){if(!t)return!1;e===r&&(e=4),t.scrollTop+=20;var a=t.scrollTop;return t.scrollTop=0,a>e}}),i.ns("Ya.Utils"),i.Utils.DomEvent=function(){function a(t,e){return function(r){s.setProtectedTimeout(function(){t(r)},e||10)}}function n(t,e,r){return function(a){l(r,e,t),t(a)}}function o(t,e,r){t&&(t.attachEvent?t.attachEvent("on"+e,r):t.addEventListener&&i.checkNativeCode(t.addEventListener)?t.addEventListener(e,r,!1):i.Utils.pureBrowserMethods.addEventListener&&i.Utils.pureBrowserMethods.addEventListener.call(t,e,r,!1))}function l(t,e,r){t&&(t.detachEvent?t.detachEvent("on"+e,r):t.removeEventListener?t.removeEventListener(e,r,!1):i.Utils.pureBrowserMethods.removeEventListener&&i.Utils.pureBrowserMethods.removeEventListener.call(t,e,r,!1))}function p(t){return t=t.toLowerCase(),0==t.indexOf("on",0)&&(t=t.substring(2)),t}function d(t,e,r,a){for(var n=t.yaEvCache,i=t.yaEvCache.length,o=0;i>o;o++)if(n[o].evName==e&&n[o].fn==r&&n[o].scope==a)return n[o];return!1}var c=!1,_=!1,y=[],h=function(){e.addEventListener?e.removeEventListener("DOMContentLoaded",h,!1):e.detachEvent("onreadystatechange",h),u()},u=function(){if(!c){if(!e.body)return s.setProtectedTimeout(u,1);c=!0;for(var t=0;y.length>t;t++)y[t]();y=[]}},f=function(){var r=!1;if(!_)if(_=!0,"loading"!==e.readyState&&u(),e.addEventListener&&i.checkNativeCode(e.addEventListener))e.addEventListener("DOMContentLoaded",h,!1),t.addEventListener("load",h,!1);else if(i.Utils.pureBrowserMethods.addEventListener)i.Utils.pureBrowserMethods.addEventListener.call(e,"DOMContentLoaded",h,!1),i.Utils.pureBrowserMethods.addEventListener.call(t,"load",h,!1);else if(e.attachEvent){e.attachEvent("onreadystatechange",h),t.attachEvent("onload",h);try{r=null==t.frameElement}catch(a){}e.documentElement.doScroll&&r&&m()}},m=function(){if(!c){try{e.documentElement.doScroll("left")}catch(t){return s.setProtectedTimeout(m,1),r}u()}};return{on:function(t,e,r,l,d){if(t&&r){t.yaEvCache=t.yaEvCache||[],e=p(e),d=i.apply({args:[],single:!1,timeout:0,buffer:0},d);var c=s.protect(e+" handler",r,l);"middleclick"===e&&(e="mousedown",c=function(t,e){return function(r){i.Utils.DomEvent.on(e,"mouseup",function a(n){return i.Utils.DomEvent.un(e,"mouseup",a),1==r.button?(n.preventDefault(),t.call(e,r),!1):!0})}}(c,t)),d.timeout&&(c=a(c,d.timeout)),d.single&&(c=n(c,e,t)),d.buffer&&(c=i.Utils.debounce(c,d.buffer)),t.yaEvCache.push({evName:e,fn:r,hn:c,opts:d,scope:l,ind:t.yaEvCache.length}),o(t,e,c)}},un:function(t,e,r,a){if(t&&t.yaEvCache&&r){var n,e=p(e);"middleclick"===e&&(e="mousedown"),n=d(t,e,r,a),n&&(l(t,e,n.hn),t.yaEvCache.splice(n.ind,1))}},stopPropagation:function(t){t=this.getEvent(t),t&&t.stopPropagation?t.stopPropagation():t&&(t.cancelBubble=!0)},preventDefault:function(t){t=this.getEvent(t),t&&t.preventDefault?t.preventDefault():t&&(t.returnValue=!1)},getEvent:function(e){return e||t.event},domReady:function(t,e){_=!1,c=!1,"function"==typeof t&&y.push(e?function(){t.call(e)}:t),f()}}}(),i.ns("Ya.Utils"),function(){function t(){this._listeners=[]}i.Utils.Observable=function(){this._listeners={}},i.Utils.Observable.prototype={fireEvent:function(t){t=t.toLowerCase();var e=this._listeners[t];e&&e.fireEvent.apply(e,Array.prototype.slice.call(arguments,1))},on:function(e,r,a,n){if(i.isFunction(r)){e=e.toLowerCase(),a=a||this;var o=this._listeners[e];o||(o=this._listeners[e]=new t),o.on(r,a,n)}},un:function(t,e,r){t=t.toLowerCase(),r=r||this;var a=this._listeners[t];a&&a.un(e,r)}},i.Utils.Observable.prototype.constructor=i.Utils.Observable,t.prototype={on:function(t,e,r){r=r||{},-1===this._getListenerIndex(t,e)&&this._listeners.push(this._createListener(t,e,r))},_getListenerIndex:function(t,e){for(var r=0,a=this._listeners.length;a>r;r++)if(this._listeners[r].fn==t&&this._listeners[r].scope==e)return r;return-1},_createListener:function(t,e,r){var a=t;if(r.once){var n=this;a=function(){return n.un(t,e),t.apply(e,arguments)}}return{fn:t,scope:e,fireFn:a}},fireEvent:function(){for(var t=this._listeners.slice(0),e=0,r=t.length;r>e;e++)if(t[e].fireFn.apply(t[e].scope,arguments)===!1)return},un:function(t,e){var r=this._getListenerIndex(t,e);-1!==r&&this._listeners.splice(r,1)}}}(),i.ns("Ya.Utils"),i.Utils.Ajax=function(){function r(){try{return new t.XMLHttpRequest}catch(e){}}function a(){try{return new t.XDomainRequest}catch(e){}}function n(t,e){e.hn&&(t.onload=function(){var r=t.responseText;e.hn.apply(e.scope||t,e.args.splice(0,0,r))})}function l(t,e){e.hn&&(t.onreadystatechange=function(){if(4==t.readyState&&200==t.status){var r=t.responseText;e.hn.apply(e.scope||t,e.args.splice(0,0,r))}})}function p(){var t=r();return t?(p=r,y=l):(p=a,y=n),t}function d(t,e){for(var r in e)e.hasOwnProperty(r)&&t.setRequestHeader(r,e[r])}function c(t){var r,a,n=e.createElement("div"),l="uploadFrame_"+i.genId();n.style.position="absolute",n.style.left="-9999px",n.style.top="-9999px",n.innerHTML='<iframe name="'+l+'"></iframe>'+'<form target="'+l+'"'+' method="'+t.type+'"'+' enctype="'+(t.multipart?"multipart/form-data":"application/x-www-form-urlencoded")+'"'+' action="'+t.url+'"'+">",e.body.appendChild(n),r=n.getElementsByTagName("iframe")[0],i.isSecure&&(r.src="javascript:false"),a=n.getElementsByTagName("form")[0],_(a,t.data),a.submit(),s.setProtectedTimeout(function(){o.remove(n)
},15e3)}function _(t,r){var a;for(var n in r)r.hasOwnProperty(n)&&(a=e.createElement("input"),a.type="hidden",a.name=n,a.value=r[n],t.appendChild(a))}var y;return function(e){var r,a=i.Utils.toQueryParams(e.data),n=e.url;"GET"==e.type?(n+="?"+a,i.Utils.addScript(n)):(r=p(),!i.isOpera&&("withCredentials"in r||r instanceof t.XDomainRequest)?(y(r,e),r.open(e.type,n,!0),d(r,e.headers),r.send(a)):c(e))}}(),i.ns("Ya.Context"),i.Context.Component=i.extend(i.Utils.Observable,{renderTo:"",_mainCont:null,_mainContId:"",classes:"",_uid:0,css:{},html:"",templData:null,constructor:function(t){i.Context.Component.superclass.constructor.call(this),i.apply(this,t),this._mainContId="ya_partner_"+this._uid},destructor:function(){this.destructor=i.emptyFn,i.Context.AdvManager.unregister(this),this.clearEvents(),this.clearHTML()},clearHTML:function(){o.remove(this._mainCont),this._mainCont=null},clearEvents:function(){},render:function(){this.appendBlock()},initComponent:function(){},getMainCont:function(t){return!this._mainCont||t?this._mainCont=o("#"+this._mainContId):this._mainCont},_grabCss:function(t){t=t||"css";var e,r,a=i.reverse(this._grabPrototypeChain(t,!0)),n={};for(r=0;a.length>r;r++)i.deepCopy(n,a[r]);if(i.isIE6||i.isIE7||i.isIE8||i.isIEQuirks)for(e=i.reverse(this._grabPrototypeChain(t+"Ie")),r=0;e.length>r;r++)i.deepCopy(n,e[r]);return n},_specifyCssStylesSheet:function(t,e){e=e||"#"+this._mainContId+" ";var r,a,n,i=[];for(a in t)t.hasOwnProperty(a)&&i.push(a);for(n=0;i.length>n;n++)r=e+i[n],t[r]=t[i[n]],delete t[i[n]];return t},decorateCss:function(t){return t},decorateHtml:function(t){this.templData={},this.decorateHtml=function(t){i.apply(this.templData,t)},this.decorateHtml(t)},_getCss:function(){var t=this._grabCss(),e={};return this.decorateCss(e),this._specifyCssStylesSheet(e),this._getCss=i.emptyFn,this.compiledCss=this._buildCss({publicCss:t,privateCss:e},!0)},_grabClasses:function(){var t=(this._grabPrototypeChain("classes").join(" ")+" "+(this.classes||"")).split(" ");return i.reverse(i.unique(t)).join(" ")},_getHtml:function(){return this.templData=this.templData||{},this.decorateHtml({classes:this._grabClasses(),mainContId:this._mainContId}),this.compiledHtml=i.xTempl(this.html,this.templData),this.compiledHtml},appendBlock:function(t,e){return e=e||this._getCss(),t=t||this._getHtml(),this.insertCSS(e),t&&this.insertHtml(t)?(this.fireEvent("afterInsert",this),!0):(this.fireEvent("insertFailed",this),!1)},insertCSS:function(t){i.Utils.appendStyle(t,!this.async)},insertHtml:function(t){var r=o("#"+this.renderTo);return this.renderTo&&r?(r.innerHTML=t,!0):this.async?(this.fireEvent("insertFailed",this),!1):(e.write(t),!0)},_grabPrototypeChain:function(t,e){for(var r=this.constructor.prototype.hasOwnProperty(t)?[this.constructor.prototype[t]]:[],a=this.constructor.superclass;a;)a.hasOwnProperty(t)&&(r.push(a[t]),e&&delete a[t]),a=a.constructor.superclass;return e&&delete this.constructor.prototype[t],r},_buildCss:function(t,e){"string"==typeof t&&(t=this[t]);var r=this._compileCSSRule("",t.privateCss,e),a=this._compileCSSRule("",t.publicCss,e);return[i.trim(a.substring(2,a.length-2)),i.trim(r.substring(2,r.length-2))].join("\n")},_compileCSSRule:function(t,r,a){var n=[];return i.format("${0} {\n${1}}\n",t,i.map(i.keys(r),function(s){var l,p,d,c=r[s];return"object"==typeof c?(/^[?^] /.test(s)?(l="string"==typeof e.documentElement.style[o.normalizeCSSProperty(s.substr(2),"")[0]],p="?"==s.charAt(0)&&l||"^"==s.charAt(0)&&!l,p&&n.push(this._compileCSSRule(t,c,a))):n.push(this._compileCSSRule(t+" "+s,c,a)),""):(a&&!/!important$/.test(c)&&(c+=" !important"),d=o.normalizeCSSProperty(s,i.format(c,this)),i.format("    ${0}: ${1};\n",i.uncamelize(d[0]),d[1]))},this).join("")+n.join(""))},addModificatorClass:function(t,e){(t||"string"==typeof t)&&(e?this.classes=i.trim(t)+" "+this.classes:this.classes+=" "+i.trim(t))},addCssStyle:function(t,e,r){"string"==typeof t&&(t=t.split(","));var a,n,o,s;for(s=0;t.length>s;s++)if(a=i.trim(t[s])){n=i.ns(a,e,";");for(o in r)r.hasOwnProperty(o)&&(n[o]=r[o])}return e},getCssStyle:function(t,e,r){if(t){var a=i.ns(t,r,";");return a[e]}}});var s={lastResponse:""};(function(){function e(){return t[r]===!0}s.log=function(t){e()&&console&&console.log&&console.log("Ya:"+t)};var r="ya-context_debug_yes";-1!==t.location.href.indexOf(r)&&(t[r]=!0,s.log("Debug mode has been enabled."));var a=3;s.remoteLog=function(t){a-->0&&i.Utils.Ajax({type:"POST",url:"//an.yandex.ru/jserr/1",data:{errmsg:"v:"+i.codeVer+":"+t},headers:{"Content-Type":"application/x-www-form-urlencoded"}})},s.protect=function(t,r,a){return function(){if(e())return r.apply(a||this,arguments);try{return r.apply(a||this,arguments)}catch(n){s.remoteLog("Error:"+t+":"+n.message+":"+s.lastResponse)}}},s.setProtectedTimeout=function(e,r,a){return t.setTimeout(s.protect("timeout",e,a),r)}})(),i.ns("Ya.Context"),function(){function t(t){return r(t,0).replace(/\s+/," ")}function r(t,e){if(!t||e>a)return"";for(var n,i="",o=t.childNodes,s=0;o.length>s;){switch(n=o[s],n.nodeType){case 1:case 5:i+=r(n,e+1);break;case 3:case 2:case 4:i+=n.nodeValue+" "}s++}return i}i.Context.grab=function(r,a){if(a){var n,o="yandex.ru yandex.com yandex.ua yandex.by yandex.kz yandex.com.tr".split(" "),s=e.location.host;for(n=0;o.length>n;n++)if(s.substr(s.length-o[n].length,s.length)==o[n])return a}for(var l,p,d=["t"+(e.title||"")],c=d[0].length,n=1;4>n&&r>c;){l=e.getElementsByTagName("h"+n);for(var _=0;l.length>_;_++)p=t(l[_]),c+=p.length,d.push(n+""+p);n++}var y=d.join("\n");return i.Utils.Base64.encode(y,r)};var a=5}(),i.ns("Ya.Context"),i.Context.Loader=new(i.extend(i.Utils.Observable,{_startLoading:!1,_data:{},_dataStr:"",_lastReloadTime:0,callbacks:{},rtbFilter:"",suspendFiring:!1,constructor:function(){this.constructor.superclass.constructor.call(this)},load:function(e,a,n){var o=a.product==i.Const.Products.RTB,l=+new Date;if(o||!this._startLoading){if(!o&&!this.isCanReload())return this.fireEvent("loaded",this,null,null,this._data.settings,a.product,this._data.common.deviceType),r;if(e&&(this._startLoadingRTB||o&&this._startLoading))return this.on("continueLoading",function(){this.load(e,a,n)},this,{once:!0}),this.suspendFiring=!0,r;var p=s.setProtectedTimeout(function(){i[l]&&(i[l]("{}"),i[l]=i.emptyFn)},15e3);i[l]=s.protect("jsonp",function(e){s.log("loader.response requestId:"+l),s.lastResponse=e,t.clearTimeout(p);var a,n,d,c={},_="loaded";if(this._dataStr=e,s.protect("parse response",function(){delete i[l],c=Function("return "+e+";")()})(),c.direct){var y={M:80,L:90};i.each(c.direct.ads,function(t){return t.images&&t.images.length&&1!=t.images.length?(i.each(t.images,function(e){for(var r in y)t.images[r]=t.images[r]||{},e[1]==y[r]&&(t.images[r].X=e),e[2]==y[r]&&(t.images[r].Y=e)}),r):!0})}this.validateData(c),this.validateData(this._data),i.HeadStripe.loadStripeData(c),o?(this._RTBdata=c,_="loadedRTB",this._startLoadingRTB=!1):(this._data=c,this._lastReloadTime=+new Date,this._startLoading=!1),o&&c.rtb&&c.rtb.html?(d=[c.rtb],n=i.Const.Products.RTB,a=this.getProductCommonData(n,c)):o&&(d=c.direct.ads,n=i.Const.Products.DIRECT,this.removeUsed(i.Const.Products.RTB,c.direct.ads),a=this.getProductCommonData(n,c)),this.fireEvent(_,this,d,a,c.settings,n,c.common.deviceType),this.fireEvent("continueLoading")},this);var d=this.getAdsUrl(a,n,"Ya["+l+"]");s.log("loader.request async:"+e+" requestId:"+l),i.Utils.addScript(d,!e),o?this._startLoadingRTB=!0:this._startLoading=!0}},validateData:function(t){var e,t=t||this._data||{},r=i.Const.Products;t.common=t.common||{},t.settings=t.settings||{};for(e in r)e=e.toLowerCase(),t[e]=t[e]||{}},getAdvsFromCache:function(t,e,r){var a=t==i.Const.Products.RTB;if(a&&this._data[t].rtb)return[this._data[t]];if(a)return[];for(var n=[],o=this._data[t].ads||[],s=Math.min(e,o.length),l=0;s>n.length&&o.length>l;)r===!0&&o[l].warning||n.push(i.deepCopy({},o[l])),l++;return n},getProductCommonData:function(t,e){e=e||this._data,0!=i.keys(e[t]).length||!this._RTBdata||t!=i.Const.Products.RTB&&t!=i.Const.Products.DIRECT||(e=this._RTBdata);var r=e.common.linkHead;return t==i.Const.Products.MARKET&&(r=e[t].linkConf),{linkHead:r,prodTitle:e[t][t+"Title"]||{},linkAll:e[t].linkAll||{}}},getAllowedDomains:function(){return this._data.common.domains||[]},getCheckVisOff:function(){return this._data.common.checkVisOff||[]},removeUsed:function(t,e){e=e||[];var a,n,o=function(t,e){return t.url==e.url||t.linkTail==e.linkTail||t.body==e.body?!0:r},s=(this._data[t]||{}).ads||[];for(e.length,n=0;e.length>n;n++)a=i.inArray(s,e[n],o),-1!=a&&s.splice(a,1)},isCanReload:function(){return!(this._lastReloadTime&&new Date-this._lastReloadTime<i.Const.Limits.reloadTimeOut)},getAdsUrl:function(r,a,n){var o,s,l,p=/^[a-z\.\-]*?$/i;try{o=t.top.document.location.href,s=t.top.document.referrer,l=t.top.document.location.host,i.isIE6&&o==s&&(s=""),p.test(l)||(o=o.replace(l,i.Utils.Punycode.toASCII(l)))}catch(d){o=e.referrer||t.location.href,s=""}p.test(s)||(s=s.replace(l,i.Utils.Punycode.toASCII(l)));var c={callback:n,"target-ref":o.substr(0,512),"page-ref":s.substr(0,512),rnd:i.genRnd(),UT:r.updatetag?i.Utils.calcFletcherSum(r.updatetag+"").toString(16):"",charset:r.siteCharset||i.Utils.getDocumentCharset(),"stat-id":r.statId},_="//an.yandex.ru/page/"+a.pageId+"?";return r.lang&&(c.lang=r.lang),this.getSocialData(c,r),r.product==i.Const.Products.RTB?(i.apply(c,{"skip-token":this.getAdsFilter(a.uidStr,!0),"imp-id":a.blockId||1,"flash-ver":i.flashVer[0]}),_="//bs-meta.yandex.ru/meta/"+(a.pageId||r.partnerId)+"?"):c["skip-banner"]=this.getAdsFilter(a.uidStr),_+=i.Utils.toQueryParams(c),_+=r.extParams||"",_+="&grab=","http:"==location.protocol&&(_+=i.Context.grab(2040-_.length,r.grab)),_},getAdsFilter:function(t,e){var a,n,o=i.Context.AdvManager.getBlocks(),s=[];return i.map(o,function(e){e&&e.advs&&e.advs.length>0&&t!=e.blockId&&i.map(e.advs,function(t){t.adId!==r&&s.push(t.adId)})}),e?(a="yabs."+i.Utils.Base64.encode(s.join("\n")),n=this.rtbFilter.replace(/^yabs\.[^:]*:?/im,""),n&&(a+=":"+this.rtbFilter.replace(/^yabs\.[^:]*:?/im,"")),a):s.join("\n")},getSocialData:function(t,e){var r=e.userGender,a=parseInt(e.userYearofbirth,10),n=parseInt(e.userExternal,10);a&&a>1920&&(new Date).getFullYear()-3>a&&(t.YOB=a),/^male$/.test(r)?t.gender=1:/^female$/.test(r)&&(t.gender=2),/^\d{1,16}$/.test(n)&&n>0&&(t.uid=n)}})),function(){i.ns("Ya.Const"),i.Const.BlockTypes={VERTICAL:"vertical",FLAT:"flat",HORIZONTAL:"horizontal",AUTO:"auto",MOBILE:"mobile",ROW:"row",MEDIA:"media",STRIPE:"stripe"},i.Const.ImageLayout={NONE:"none",FLOAT:"float",LEFT:"left",FULL:"full"},i.Const.ImageSize={M:"M",L:"L"},i.Const.ImageAxis={X:"X",Y:"Y"},i.Const.BorderTypes={NONE:"none",BLOCK:"block",AD:"ad"},i.Const.Products={MARKET:"market",DIRECT:"direct",RTB:"rtb",MEDIA:"media"},i.Const.Header={RIGHT:"right",LEFT:"left",BOTTOM:"bottom",TOP:"top",TOP_BOTTOM:"top+bottom",TOP_RIGHT:"top+right",BOTTOM_BOTTOM:"bottom+bottom"},i.Const.Limits={reloadTimeOut:3e4,visibCheckDelay:2e3,stripeVisibCheckDelay:2e3,minAdv:1,maxAdv:9},i.Const.Fonts={fontNames:["arial","courier new","tahoma","times new roman","verdana"],fontFamilies:["sans-serif","serif","monospace"],fontSizeMin:.5,fontSizeMax:2.5,fontSizeDef:1,titleFontSizeSettingsDef:3,titleFontSizeDef:"125%",fontSizeRanges:{1:[0,777],2:[0,.7,.8,1.1,777],3:[0,.9,1,1.1,777]},titleFontSizes:{1:[107],2:[128,125,123,116],3:[135,130,128,125]}};var t="none",e="inherit",r="auto",a="normal";i.Const.cssReset={background:"transparent none no-repeat scroll 0 0",border:t,"border-radius":t,"border-spacing":0,"border-collapse":"collapse","-moz-box-sizing":"content-box","box-sizing":"content-box",clear:t,clip:r,color:e,cursor:r,"empty-cells":"show","float":t,font:e,"font-variant":a,"font-weight":a,height:r,"letter-spacing":a,"line-height":a,margin:0,"max-height":t,"max-width":t,"min-height":0,"min-width":0,outline:t,overflow:"visible",padding:0,position:"static","table-layout":r,"text-align":"left","text-decoration":t,"text-indent":0,"text-transform":t,"vertical-align":"baseline",visibility:"visible","white-space":a,width:r,"word-spacing":a,"z-index":r},i.Const.config={autoRenderStripeBlock:!0}}(),i.ns("Ya.Context.Direct"),i.Context.Direct.Format=i.extend(i.emptyFn,{constructor:function(t){i.apply(this,t),this.size=this.size||[]},skipWarnings:function(){return this.type==i.Const.BlockTypes.ROW},getSize:function(){return this.fixed?this.name.split("x"):[-1,-1]}}),i.Context.Direct.FormatManager=new(i.extend(i.emptyFn,{formats:null,constructor:function(t){this.constructor.superclass.constructor.call(this,t);var e=i.Context.Direct.Format,r=i.Const.BlockTypes,a=i.Const.BorderTypes,n=i.Const.Header;this.formats=[new e({name:r.VERTICAL,fixed:!1,type:r.VERTICAL,limit:9,header:[n.TOP,n.BOTTOM],border:[a.NONE,a.BLOCK,a.AD]}),new e({name:r.FLAT,fixed:!1,type:r.FLAT,limit:4,header:[n.TOP,n.BOTTOM],border:[a.NONE,a.BLOCK,a.AD]}),new e({name:r.HORIZONTAL,fixed:!1,type:r.HORIZONTAL,limit:4,header:[n.TOP,n.BOTTOM],border:[a.NONE,a.BLOCK,a.AD]}),new e({name:r.AUTO,fixed:!1,type:r.HORIZONTAL,limit:3,header:[n.TOP],border:[a.NONE,a.BLOCK]}),new e({name:"160x600",fixed:!0,type:r.VERTICAL,limit:5,header:[n.TOP_BOTTOM],border:[a.NONE,a.BLOCK]}),new e({name:"240x400",fixed:!0,type:r.VERTICAL,limit:4,header:[n.BOTTOM],border:[a.NONE,a.BLOCK]}),new e({name:"200x300",fixed:!0,type:r.VERTICAL,limit:3,header:[n.BOTTOM],border:[a.NONE,a.BLOCK]}),new e({name:"300x300",fixed:!0,type:r.VERTICAL,limit:4,header:[n.BOTTOM],border:[a.NONE,a.BLOCK]}),new e({name:"300x250",fixed:!0,type:r.VERTICAL,limit:3,header:[n.BOTTOM],border:[a.NONE,a.BLOCK]}),new e({name:"250x250",fixed:!0,type:r.VERTICAL,limit:3,header:[n.BOTTOM],border:[a.NONE,a.BLOCK]}),new e({name:"728x90",fixed:!0,type:r.FLAT,limit:3,header:[n.BOTTOM],border:[a.NONE,a.BLOCK]}),new e({name:"1000x120",fixed:!0,type:r.FLAT,limit:4,header:[n.BOTTOM],border:[a.NONE,a.BLOCK]}),new e({name:r.ROW,fixed:!1,type:r.ROW,limit:1,header:[n.LEFT],border:[a.NONE]}),new e({name:r.MEDIA,fixed:!1,type:r.MEDIA,limit:1,header:[n.TOP],border:[a.NONE,a.BLOCK]}),new e({name:r.MOBILE,fixed:!1,type:r.MOBILE,limit:1,header:[n.BOTTOM],border:[a.NONE,a.BLOCK]}),new e({name:r.STRIPE,fixed:!1,type:r.STRIPE,limit:1,header:[n.BOTTOM],border:[a.NONE]})]},getFormatTypeByName:function(t){var e=i.inArray(this.formats,t,function(t,e){return e.name==t?!0:r});return-1!=e?this.formats[e].type:""},getFormatByName:function(t){var e=i.inArray(this.formats,t,function(t,e){return e.name==t?!0:r});return-1!=e?(this.formats[e].index=e,this.formats[e]):null},getDefaultFormat:function(){return this.formats[0]}})),i.ns("Ya.Context"),i.Context.AdvManager=new(i.extend(i.Utils.Observable,{blocks:[],customTag:"YATAG",constructor:function(){this.constructor.superclass.constructor.call(this),this.customTag&&e.createElement(this.customTag)},render:s.protect("AdvManager.render",function(t,e){if(s.log("AdvManager.render async:"+t.async),t.settings=this.validateSettings(t.settings),!t.settings)return!1;t.settings.extParams=t.extParams,t.lang&&(t.settings.lang=t.lang),t.blockUID=this.parsePageUID(t.blockId);var a,n="loaded";if(t.blockUID.product&&(t.settings.product=i.Const.Products.RTB,n="loadedRTB"),t.async&&(a=this.getBlockByElId(t.renderTo),a&&!a.isCanReload()))return a.refreshAdv(),!1;this.metrikaHit(t.blockUID.pageId);var o=i.Context.Loader;return t.async||o.fireEvent(n,o,[]),o.on(n,function(a,i,s,l,p,d){var c;if(l&&l[t.blockUID.blockId]&&(c=l[t.blockUID.blockId],c.product=p,o.rtbFilter=c.adFilter||"",t.settings=this.validateSettings(c),!t.settings))return!1;var _=this.getBlockByElId(t.renderTo);return _&&_.destructor(),_=this.blockFabric(t,d),_.on("afterRender",t.settings.onRender),_.on("altCallback",e),_.showAdvs(i,s),o.suspendFiring===!0&&t.async&&"loaded"!=n?(o.suspendFiring=!1,!1):r},this,{once:!0}),o.load(t.async,t.settings,t.blockUID),!0}),parsePageUID:function(e){var r=/^(\w)\-(\d+)\-(\d+)$/i.exec(e),a={uidStr:e};return r&&4==r.length?(a.product=r[1],a.blockId=r[3],i.partnerId=a.pageId=r[2]):(i.partnerId=a.pageId=parseInt(e||t.yandex_partner_id,10),a.blockId=1,t.yandex_partner_id=null),a},metrikaHit:function(t){t&&(n(t,1),this.metrikaHit=i.emptyFn)},blockFabric:function(t,e){var r=t.settings,a=t._uid=this.blocks.length,n=r.product;if(t.renderTo=t.renderTo||r.renderTo||"",n==i.Const.Products.MOBILE)r.format.name=3>e&&e>4?"PdaBlock":"TouchBlock";else{if(i.Context[i.capitalize(n)]&&i.Context[i.capitalize(n)][i.capitalize(r.format.name)])return this.blocks[a]=new(i.Context[i.capitalize(n)][i.capitalize(r.format.name)])(t);if(n==i.Const.Products.RTB)return this.blocks[a]=new i.Context.RTB(t)}return this.blocks[a]=new i.Context.Direct.Vertical(t)},unregister:function(t){this.blocks[t._uid]&&(this.blocks[t._uid].destructor(),delete this.blocks[t._uid])},getBlockById:function(t){return this.blocks[t]},getBlockByElId:function(t){if(!t)return null;var e=i.inArray(this.blocks,t,function(t,e){return e&&e.renderTo==t?!0:r});return this.blocks[e]},camelizeSettings:function(t){var e,r;for(r in t)t.hasOwnProperty(r)&&(e=i.camelize(r),t[e]=t[r],e!=r&&delete t[r])},convertOldSettings:function(t){var e,r={type:"name",place:"renderTo",ad_format:"product"};for(e in r)t.hasOwnProperty(e)&&t[e]&&(t[r[e]]=t[e],delete t[e]);this.camelizeSettings(t)},validateSettings:function(t){if(t=t||{},this.convertOldSettings(t),t.product=t.product||i.Const.Products.DIRECT,t.product==i.Const.Products.MEDIA?t.name=i.Const.BlockTypes.MEDIA:t.product==i.Const.Products.MOBILE&&(t.name=i.Const.BlockTypes.MOBILE),t.statId=parseInt(t.statId,10),isNaN(t.statId)&&(t.statId=""),t.format=i.Context.Direct.FormatManager.getFormatByName(t.name),!t.format)switch(t.name){case"600x60":case"468x60":case"234x60":case"180x150":case"125x125":case"120x240":case"120x600":return null;default:t.format=i.Context.Direct.FormatManager.getDefaultFormat()}t.limit=i.Utils.checkValue(parseInt(t.limit,10),i.Const.Limits.minAdv,i.Const.Limits.maxAdv,i.Const.Limits.maxAdv);var e=t.format,r=e.getSize();return t.width=r[0],t.height=r[1],-1==i.inArray(e.border,t.borderType)&&(t.borderType=e.border[0]),t.borderRadius=Boolean(t.borderRadius),-1==i.inArray(e.header,t.headerPosition)&&(t.headerPosition=e.header[0]),t.c11n=t.c11n||{},this.validateColors(t),this.validateFonts(t),this.validateFontSizes(t),t},validateFonts:function(t){var e=i.Const.Fonts,r=e.fontNames,a=e.fontFamilies,n=i.inArray(r,t.fontFamily);return-1==n?t.fontFamily="inherit":t.fontFamily+=1==n?", "+a[2]:3==n?", "+a[1]:", "+a[0],t},validateFontSizes:function(t){if(t.format.fixed)return t;var e,r=i.Const.Fonts,a=t.fontSize=i.Utils.checkValue(parseFloat(t.fontSize,10),r.fontSizeMin,r.fontSizeMax,r.fontSizeDef),n=i.Utils.checkValue(parseInt(t.titleFontSize,10),1,3,r.titleFontSizeSettingsDef),o=r.fontSizeRanges[n],s=r.titleFontSizes[n];for(e=0;o.length-1>e;e++)if(a>o[e]&&o[e+1]>=a)return t.titleFontSizePercent=s[e]+"%",t},validateColors:function(t){var e,r,a,n="siteBgColor bgColor borderColor headerBgColor titleColor urlColor allColor hoverColor bgStartColor bgEndColor textColor".split(" "),o=n.length;for(r=0;o>r;r++)e=t[n[r]],a=i.normalizeColorHash(e),a?t[n[r]]=a:delete t[n[r]];return a=i.normalizeColorHash(t.c11n.arrowTextColor),a?t.c11n.arrowTextColor=a:delete t.c11n.arrowTextColor,t},getBlocksEls:function(){var t,e,r=[],a=this.blocks.length;for(e=0;a>e;e++)t=this.blocks[e],t.mainCont&&r.push(t.mainCont);return r},getBlocks:function(){return this.blocks}})),i.Context.Adv=i.extend(i.Context.Component,{css:{"body .ya-partner .ya-partner__hidden":{display:"none !important"}},advs:null,loaded:!1,lastReloadTime:0,constructor:function(t){i.Context.Adv.superclass.constructor.call(this,t),this.advs=[],this.on("afterRender",this.onRender)},clearEvents:function(){i.Context.Adv.superclass.clearEvents.call(this),this.removeVisibilityCheck()},isCanReload:function(){return this.lastReloadTime&&new Date-this.lastReloadTime<i.Const.Limits.reloadTimeOut?!1:!0},checkPartner:function(t){return!(this.parnterId!=i.narodPageID&&t.length&&!i.Utils.isSameDomain(t||[]))},createTemplObj:function(t,e){return this.addLinkTails(t),{ads:t,yaUrl:e.prodTitle.url||"",yaTitle:e.prodTitle.title||"",allAdvUrl:e.linkAll.url||"",allAdvTitle:e.linkAll.title||"",settings:this.settings,format:this.settings.format}},getAdvsCount:function(){var t=this.settings,e=t.format,r=Math.min(e.limit,t.limit||9);return e.fixed?e.limit:r},showAdvs:function(e,r,a){var n=i.Context.Loader,o=!(a&&this.isSentVisibility);if(i.isArray(e)&&!e.length||!this.checkPartner(n.getAllowedDomains()))return this.fireEvent("renderFailed",this,this.mainCont,0),!0;this.clearEvents(),o||(this.isSentVisibility=!0),this.clearHTML();var s=this.settings,l=i.Utils.DomEvent,p=s.product,d=s.format,c=this.getAdvsCount();if(r=r||n.getProductCommonData(p),this.advs=e||n.getAdvsFromCache(p,c,d.skipWarnings(s)),c=Math.min(this.advs.length,c),this.advs=this.advs.slice(0,c),0==c)return this.fireEvent("renderFailed",this,this.mainCont,0),this.fireEvent("altCallback",this,this.mainCont),!0;var _=this.createTemplObj(this.advs,r);return this.decorateHtml(_),this.appendBlock()?(this.getMainCont(!0),this.removeOverflow(),l.on(t,"load",this.removeOverflow,this),l.domReady(this.removeOverflow,this),l.domReady(this.adjustItemIndents,this),this.async||(t.yandex_ad_is_displayed=!0),this.linkHead=r.linkHead,this.getVisibilityCheckLink(this.linkHead,this.advs),o&&(i.inArray(n.getCheckVisOff()||[],this.blockUID.pageId)>-1?this.sendVisibility():this.addVisibilityCheck()),a||(this.lastReloadTime=+new Date),n.removeUsed(p,this.advs),this.fireEvent("afterRender",this,this._mainCont,this.advs,c),!0):(this.fireEvent("renderFailed",this,this._mainCont,0),!0)},refreshAdv:function(){return this.showAdvs(this.advs,null,!0)},addLinkTails:function(t){if(this.settings.product==i.Const.Products.MARKET)return!1;for(var e=this.getLinkTailExt(t),r=function(t){return t.replace(/\?.+/,"")+e},a=0;t.length>a;a++)t[a].url=r(t[a].url),t[a].vcardUrl&&(t[a].vcardUrl=r(t[a].vcardUrl)),t[a].callUrl&&(t[a].callUrl=r(t[a].callUrl))},getVisibilityCheckLink:function(t,e){return this.visibCheckLink=t+this.getLinkTail(e)+"&wmode=3"},getTestTag:function(){for(var t=[[4,1],[3,i.codeVer%8],[3,i.loaderVer%8],[5,this.settings.format.index],[1,!!this.settings.updatetag],[1,!!this.settings.userGender],[1,!!this.settings.userYearofbirth],[1,!!this.settings.userExternal]],e=0,r=0,a=0;t.length>r;r++)e|=t[r][1]<<a,a+=t[r][0];return e},removeOverflow:function(){function t(t){var e=t.previousSibling;return o.classNameExists(e,"ya-partner__gap")?e.previousSibling:e}function e(t){var e=t.previousSibling;if(e){var r=e.previousSibling;o.classNameExists(e,"ya-partner__gap")&&o.remove(e);var a=r&&"TD"==r.nodeName.toUpperCase()&&o.classNameExists(r,"ya-partner__item");a&&(r.style.width="")}if(o.remove(t),o.classNameExists(s,"ya-partner_is-quasi-flat_yes")){var l=o(".ya-partner__item",n),p=Math.floor(100/l.length)+"%";i.each(l,function(t){i.Utils.setImportant(t,"width",p)}),o.removeClass(s,"ya-partner__hide-urls")}}if(!this.settings.format.fixed&&this.settings.format.type!=i.Const.BlockTypes.ROW)return this.advs;var a,n=this.getMainCont(!0),s=o(".ya-partner",n)[0],l=o.classNameExists(s,"ya-partner__hide-urls"),p=o(".ya-partner__item",n),d=o(".ya-partner__hidden",n),c=p[p.length-1],_=0,y=!0,h=!1;for(o.remove(d);o.elemHasScroll(s,i.isIE||i.isOpera?0:r);){if(h=!0,y&&!l)o.addClass(s,"ya-partner__hide-urls");else{if(!t(c)){o.addClass(s,"ya-partner__hide-urls"),y=!1;break}l||o.removeClass(s,"ya-partner__hide-urls"),a=t(c),o.addClass(a,"ya-partner__item_pos_last"),e(c),c=a,_++}if(y=!y,i.isIE)for(b=0;p.length>b;b++)o.css(p[b],{visibility:"hidden"}),o.css(p[b],{visibility:""})}if(!h||y||l||o.addClass(s,"ya-partner__hide-urls"),_){for(var u=this.getLinkTailExt(this.advs),f=this.advs.slice(0,this.advs.length-_),m=this.getLinkTailExt(f),g=(n||s).getElementsByTagName("a")||[],x=g.length,b=0;x>b;b++)g[b].href=g[b].href.replace(u,m);return this.getVisibilityCheckLink(this.linkHead,f),this.advs=f,f}return this.advs},adjustItemIndents:function(){if(this.settings.format.fixed&&this.settings.format.type!=i.Const.BlockTypes.FLAT){var t=o(".ya-partner",this.getMainCont(!0))[0];if(t){var e,r,a=o(".ya-partner__item",t),n=[],s=[],l=0,p=function(t,e,r){p=t.style.setProperty?function(t,e,r){t.style.setProperty(e,r,"important")}:function(t,e,r){t.style.cssText+=";"+e+":"+r+" !important"},p(t,e,r)};for(e=0,r=a.length;r>e;e++)o.classNameExists(a[e],"ya-partner__hidden")||n.push(a[e]);for(;50>=l;){for(e=0,r=n.length;r>e;e++)s[e]={"margin-top":o.getStyle(n[e],"margin-top"),"margin-bottom":o.getStyle(n[e],"margin-bottom")},i.each(i.keys(s[e]),function(t){p(n[e],t,s[e][t].replace(/\d+(?:\.\d+)?([a-z]*)|\.\d([a-z]*)+/g,function(t,e){switch("0"===t&&(e=""),e){case"px":case"":return(1+parseFloat(t)).toFixed(3)+"px";default:return(1.05*parseFloat(t)).toFixed(3)+e}}))});if(l++,o.elemHasScroll(t,0)){for(e=0,r=n.length;r>e;e++)i.each(i.keys(s[e]),function(t){p(n[e],t,s[e][t])});break}}}}},addVisibilityCheck:function(){var a=this.getMainCont(!0),n=i.Utils.DomEvent;if(!this.isAddedVisibCheck){if(!a)return n.domReady(this.addVisibilityCheck,this),r;this.checkVisibility(),this.isAddedVisibCheck=!0,n.on(t,"scroll",this.checkVisibility,this),n.on(t,"resize",this.checkVisibility,this),n.on(a,"mouseover",this.sendVisibility,this),n.on(t,"load",this.checkVisibility,this,{single:!0}),n.domReady(this.checkVisibility,this);var s=a,l=e.getElementsByTagName("html")[0];do{s=s.parentNode;var p=o.getStyle(s,"overflow");!s||s==e||s==e.body||s==l||"scroll"!=p&&"auto"!=p||(n.on(s,"scroll",this.checkVisibility,this),n.on(s,"resize",this.checkVisibility,this))}while(s)}},checkVisibility:function(){return i.isOperaMini?function(){var e=this.getMainCont(!0);return e.offsetWidth>0&&e.offsetHeight>0?(this.sendVisibility(),!0):(i.Utils.DomEvent.on(t,"load",this.checkVisibility,this,{single:!0}),r)}:function(){if(this.isSentVisibility)return!0;var t,e=this.getMainCont(!0);if(e&&(t=e.firstChild||e,!(0>=t.offsetWidth&&0>=t.offsetHeight))){var r=o.getXY(t),a=r.offsetLeft,n=r.offsetTop,l=o.getWindowSize()[0],p=o.getWindowSize()[1],d=o.getWindowScroll()[0],c=o.getWindowScroll()[1];if(a+t.offsetWidth>=d&&d+l>a&&n+t.offsetHeight>=c&&c+p>n){if(!this.visibCheckTimeOutId){var _=this;this.visibCheckTimeOutId=s.setProtectedTimeout(function(){_.sendVisibility()},i.Const.Limits.visibCheckDelay)}}else clearTimeout(this.visibCheckTimeOutId),this.visibCheckTimeOutId=null}}}(),sendVisibility:function(){this.removeVisibilityCheck(),this.isSentVisibility||(i.Utils.addScript(this.visibCheckLink),this.settings.linkTail&&i.Utils.addScript(this.settings.linkTail),this.settings.viewNotice&&((new Image).src=this.settings.viewNotice),this.isSentVisibility=!0)},removeVisibilityCheck:function(){clearTimeout(this.visibCheckTimeOutId),this.visibCheckTimeOutId=null,this.isAddedVisibCheck=!1,this.isSentVisibility=!1;var r=i.Utils.DomEvent,a=this.getMainCont();if(r.un(t,"scroll",this.checkVisibility,this),r.un(t,"resize",this.checkVisibility,this),r.un(a,"mouseover",this.sendVisibility,this),a){var n,s=a,l=e.getElementsByTagName("html")[0];do s=s.parentNode,n=o.getStyle(s,"overflow"),!s||s==e||s==e.body||s==l||"scroll"!=n&&"auto"!=n||(r.un(s,"scroll",this.checkVisibility,this),r.un(s,"resize",this.checkVisibility,this));while(s)}},getLinkTailExt:function(){var t=this.getTestTag(),e=this.settings.statId;return(e?"?stat-id="+e:"")+(t?(e?"&":"?")+"test-tag="+t:"")},getLinkTail:function(t){var e=this.getLinkTailStr(t);return e+=this.getLinkTailExt(t)},getLinkTailStr:function(t){var e,r="",a=t.length;for(e=0;a>e;e++)t[e]&&t[e].linkTail&&(r+=t[e].linkTail);return r}}),function(){function e(t){function e(){t.parentNode&&t.parentNode.removeChild(t)}var r=new Image;a(r,"load",function(){16!=r.width&&e()}),a(r,"error",e),r.src=t.src}function a(t,e,r){return i.Utils.DomEvent.on(t,e,r,{once:!0})}i.Context.Direct.Direct=i.extend(i.Context.Adv,{html:function(){var t='<% if (((data.yaUrl && data.yaTitle) || (data.allAdvUrl && data.allAdvTitle)) && !isRow) { %><yatag class="ya-partner__ads"><% if (data.yaUrl && data.yaTitle) { %><yatag class="ya-partner__ads-l"><a href="<%=yaUrl%>" class="ya-partner__ads-link ya-partner__ads-link-l" target="_blank"><%=yaTitle%></a></yatag><% } %><% if (data.allAdvUrl && data.allAdvTitle) { %><yatag class="ya-partner__ads-r"><a href="<%=allAdvUrl%>" class="ya-partner__ads-link ya-partner__ads-link-r" target="_blank"><%=allAdvTitle%></a></yatag><% if (data.format.name == Ya.Const.BlockTypes.AUTO) { %><yatag class="ya-partner__close"><yatag class="ya-partner__close-text">\u0417\u0430\u043a\u0440\u044b\u0442\u044c</yatag><yatag class="ya-partner__close-button"> [x]</yatag></yatag><% } %><% } %></yatag><% } %>',e='<yatag class="ya-partner__pic-container"><a href="<%=ads[i].url%>" class="ya-partner__pic" target="_blank" style="width:<%= ads[i].images[pic.size][pic.axis][1] %>px !important;height:<%= ads[i].images[pic.size][pic.axis][2] %>px !important;background-image:url(\\\'<%= ads[i].images[pic.size][pic.axis][0] %>\\\') !important;"></a></yatag>',r='<table cellpadding="0" cellspacing="0" class="ya-partner__l-table"><tr class="ya-partner__l-tr"><td class="ya-partner__l-td ya-partner__l-pic-td">'+e+"</td>"+'<td class="ya-partner__l-td">',a="</td></tr></table>",n='<% if (ads[i].warning) { %><yatag class="ya-partner__warn"><%= ads[i].warning %></yatag><% } %>',o='<% if (ads[i].age) { %><yatag class="ya-partner__agewarn-cont"><yatag class="ya-partner__agewarn"><%= ads[i].age %></yatag></yatag><yatag class="ya-partner__clearfix"></yatag><% } %>',s=i.apply({},{display:"block"},i.Const.cssReset),l=i.map(i.keys(s),function(t){return t+":"+s[t]+" !important;"}).join("");return'<%var pic = data.pic,ImageLayout = Ya.Const.ImageLayout,textClickable = data.settings.c11n.textClickable,isRow = data.format.name == Ya.Const.BlockTypes.ROW,isVert = data.format.type == Ya.Const.BlockTypes.VERTICAL,isHor = data.format.type == Ya.Const.BlockTypes.HORIZONTAL,isMedia = data.format.type == Ya.Const.BlockTypes.MEDIA,isFixed = data.format.fixed,is728x90 = data.format.name == "728x90",is728x90xIMG = (is728x90 && data.isQuasiFlat),is1000x120 = data.format.name == "1000x120",is1000x120xIMG = (is1000x120 && data.isQuasiFlat),isFlat = (data.format.type == Ya.Const.BlockTypes.FLAT) && !data.isQuasiFlat,isBottomHeader = data.settings.headerPosition.indexOf(Ya.Const.Header.BOTTOM) != -1,isTopHeader = data.settings.headerPosition.indexOf(Ya.Const.Header.TOP) != -1;%><div id="<%=mainContId%>" style="'+l+'">'+'<% if (data.isQuasiFlat) { data.classes = "ya-partner_is-quasi-flat_yes  " + data.classes.replace(/\\bya-partner_type_flat\\b/, "ya-partner_type_horiz")} %>'+'<yatag class="<%= classes %>'+"<% if (isFlat && !is728x90 && !is1000x120) { %>"+" ya-partner_type_flat-simple"+"<% } %>"+"<% if (is728x90xIMG) { %>"+" ya-partner_type_728x90xIMG"+"<% } %>"+"<% if (is1000x120xIMG) { %>"+" ya-partner_type_1000x120xIMG"+"<% } %>"+"<% if (textClickable) { %>"+" ya-partner_text_clickable"+"<% } %>"+'">'+"<% if (!isFixed && (isHor || isVert || isFlat) && (Ya.isIE)) { %>"+'<yatag class="ya-partner__wrap-fit">'+"<% } %>"+"<% if (isTopHeader) { %>"+t+"<% } %>"+"<% if (isMedia) { %>"+"<%=mediaCode%>"+"<% } else { %>"+"<% if (isHor || data.isQuasiFlat) { %>"+'<table cellpadding="0" cellspacing="0" class="ya-partner__list"><tr class="ya-partner__tr">'+"<% } else { %>"+'<yatag class="ya-partner__list">'+"<% } %>"+"<% for (var i = 0, ads = data.ads, ln = ads.length; i < data.ads.length; i++) { %>"+"<% if (isHor || data.isQuasiFlat) { %>"+"<td"+"<% if (is728x90xIMG) { %>"+' style="width: 50% !important"'+"<% } %>"+"<% if (is1000x120xIMG) { %>"+' style="width: 33% !important"'+"<% } %>"+"<% } else {%>"+"<yatag"+"<% } %>"+' class="ya-partner__item'+"<% if (ads[i].images && pic.layout) { %>"+" ya-partner__item_pic_yes ya-partner__item_piclayout_<%= pic.layout %>"+"<% } %>"+"<% if (i == 0) { %>"+" ya-partner__item_pos_first"+"<% } %>"+"<%  if (i == ln-1) { %>"+" ya-partner__item_pos_last"+"<% } %>"+'">'+"<% if (isRow) { %>"+'<yatag class="ya-partner__ads">'+'<yatag class="ya-partner__ads-l">'+'<a class="ya-partner__ads-link ya-partner__ads-link-l" href="<%=yaUrl%>" target="_blank"><%=yaTitle%></a>'+"</yatag>"+"</yatag>"+"<% } %>"+"<% if ( ads[i].images ) { %>"+"<% if ( pic.layout === ImageLayout.FLOAT || pic.layout === ImageLayout.FULL ) { %>"+e+"<% } %>"+"<% if ( pic.layout === ImageLayout.LEFT ) { %>"+r+"<% } %>"+"<% } %>"+'<a href="<%=ads[i].url%>" class="ya-partner__title-link" target="_blank">'+"<% if (ads[i].favicon && (pic.layout === ImageLayout.NONE || !ads[i].images)) { %>"+'<img class="ya-partner__icon" src="<%=ads[i].favicon%>" alt=""/>'+"<% } %>"+'<yatag class="ya-partner__title-link-text"><%=ads[i].title%></yatag>'+"</a> "+"<% if (textClickable) { %>"+'<a href="<%= ads[i].url %>" class="ya-partner__text" target="_blank">'+"<%= ads[i].body %>"+"<% if (ads[i].age) { %>"+" "+"<% } %>"+o+"<% if (ads[i].debug) { %>"+"<span><%=ads[i].debug%></span>"+"<% } %>"+"</a> "+"<% } else { %>"+'<yatag class="ya-partner__text">'+"<%= ads[i].body %>"+"<% if (ads[i].age) { %>"+" "+"<% } %>"+o+"<% if (ads[i].debug) { %>"+"<span><%=ads[i].debug%></span>"+"<% } %>"+"</yatag> "+"<% } %>"+'<yatag class="ya-partner__url">'+"<% if (ads[i].vcardUrl) { %>"+'<a class="ya-partner__address" href="<%=ads[i].vcardUrl%>" target="_blank">'+"\u0410\u0434\u0440\u0435\u0441&nbsp;\u0438&nbsp;\u0442\u0435\u043b\u0435\u0444\u043e\u043d"+"</a>"+"<% if (isFlat) { %>"+"&nbsp;"+"<% } else {%>"+" "+"<% } %>"+"<% } %>"+'<yatag class="ya-partner__domain">'+'<a class="ya-partner__domain-link" href="<%= ads[i].url %>" target="_blank">'+"<%=ads[i].site%>"+"</a>"+"</yatag>"+"<% if (isFlat) { %>"+"&nbsp;"+"<% } else {%>"+" "+"<% } %>"+'<yatag class="ya-partner__region"><%=ads[i].region%></yatag>'+o+"</yatag>"+"<% if (ads[i].images && pic.layout === ImageLayout.FLOAT) { %>"+'<yatag class="ya-partner__clearfix"></yatag>'+"<% } %>"+n+"<% if (ads[i].images && pic.layout === ImageLayout.LEFT) { %>"+a+"<% } %>"+"<% if (isHor || data.isQuasiFlat) { %>"+"</td>"+"<%  if (i != ln-1) { %>"+'<td class="ya-partner__gap">&nbsp;</td>'+"<% } %>"+"<% } else {%>"+"</yatag>"+"<% } %>"+"<% } %>"+"<% if (isHor || data.isQuasiFlat) { %>"+"</tr></table>"+"<% } else {%>"+"</yatag>"+"<% } %>"+"<% } %>"+"<% if (isBottomHeader) { %>"+t+"<% } %>"+"<% if (!isFixed && (isHor || isVert || isFlat) && (Ya.isIE)) { %>"+"</yatag>"+"<% } %>"+"</yatag>"+"</div>"
}(),classes:"ya-partner",css:{".ya-partner":{"font-size":"100%",position:"relative",display:"block",overflow:"hidden","text-align":"left","line-height":"normal","border-radius":"4px 4px 4px 4px","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box","white-space":"normal"},".ya-partner__l-table, .ya-partner__l-tr, .ya-partner__l-td":i.apply({},{"vertical-align":"middle"},i.Const.cssReset),".ya-partner__domain-link":{"text-decoration":"none"},".ya-partner__domain-link:hover":{"text-decoration":"underline"},".ya-partner, .ya-partner__ads-l, .ya-partner__ads-l em, .ya-partner__ads-r, .ya-partner__item, .ya-partner__title-link-text, .ya-partner__text, .ya-partner__domain-link, .ya-partner__region, ya-partner__pic-container, ya-partner__pic, .ya-partner__list tbody, .ya-partner__list tr, .ya-partner__list td":{"font-size":"inherit","font-style":"normal","text-indent":0},".ya-partner_text_clickable a.ya-partner__text":{"text-decoration":"none",cursor:"pointer"},".ya-partner_text_clickable a.ya-partner__text:hover":{"text-decoration":"underline"},".ya-partner__pic-container":{display:"block",margin:"3px 0"},".ya-partner__item_piclayout_left .ya-partner__pic-container":{margin:"0 0.4em 0 0"},".ya-partner__item_piclayout_float .ya-partner__pic-container":{margin:"0.4em 0.4em 0 0","float":"left"},".ya-partner__item_piclayout_float .ya-partner__address, .ya-partner__item_piclayout_float .ya-partner__domain-link, .ya-partner__item_piclayout_float .ya-partner__region":{"white-space":"nowrap"},".ya-partner__clearfix":i.apply({},{"font-size":0,display:"block",width:"auto",height:0,clear:"both","line-height":0},i.Const.cssReset),".ya-partner__pic, .ya-partner__pic:link, .ya-partner__pic:hover, .ya-partner__pic:visited":i.apply({},{display:"block",background:"transparent 0 0 no-repeat scroll",cursor:"pointer"},i.Const.cssReset),".ya-partner yatag":{"text-align":"left","font-family":"inherit"},".ya-partner__list":{display:"block","line-height":"normal","font-size":"inherit","text-indent":0},".ya-partner__title-link, .ya-partner__address, .ya-partner__ads-link":i.apply({},{"font-size":"inherit","font-style":"normal",display:"inline",cursor:"pointer"},i.Const.cssReset),"a.ya-partner__address:link, a.ya-partner__address:hover, a.ya-partner__address:visited":{"text-decoration":"underline"},".ya-partner__address":{"margin-right":"0.3em"},"a.ya-partner__ads-link:link, a.ya-partner__ads-link:hover, a.ya-partner__ads-link:visited":{"text-decoration":"none","font-weight":"normal"},".ya-partner__ads-link em":{"font-style":"normal","font-weight":"normal",background:"none repeat scroll 0 0 transparent"},".ya-partner__item":{"border-radius":"4px 4px 4px 4px",border:"none",padding:"0.2em 0.3em","line-height":"normal"},"body .ya-partner__item_pos_last":{"margin-bottom":0},".ya-partner_ads_inner-up .ya-partner__item_pos_first, .ya-partner_ads_inner-up-down .ya-partner__item_pos_first, .ya-partner_ads_inner-down .ya-partner__item_pos_last":{"border-radius":"0 4px 4px 4px"},".ya-partner_ads_inner-down .ya-partner__item_pos_last, .ya-partner_ads_inner-up-down .ya-partner__item_pos_last":{"border-radius":"4px 4px 4px 0"},".ya-partner_ads_inner-down .ya-partner__item_pos_first.ya-partner__item_pos_last":{"border-radius":"4px 4px 4px 0"},".ya-partner__url":{"font-size":"87%",display:"block"},".ya-partner__hide-urls .ya-partner__list .ya-partner__url":{display:"none"},".ya-partner__warn":{"font-size":"70%","border-radius":"2px","-moz-border-radius":"2px","-webkit-border-radius":"2px",padding:"0.25em 0.3em 0.25em","line-height":"1.1em"},".ya-partner__agewarn-cont":{"padding-left":".3em",display:"inline-block","float":"right"},".ya-partner__text .ya-partner__agewarn-cont":{display:"none"},".ya-partner__hide-urls .ya-partner__text .ya-partner__agewarn-cont":{display:"inline-block","padding-left":0},"yatag.ya-partner__agewarn":{font:"normal normal 85% Tahoma, Arial, sans-serif","border-radius":"5px",padding:"0 1px","vertical-align":"baseline"},".ya-partner__url .ya-partner__agewarn":{"font-size":"90%"},".ya-partner__ads":{"white-space":"nowrap","font-size":"87%"},".ya-partner__icon":{font:"0/0 a",margin:"0 4px -2px 0","vertical-align":"baseline",border:0,display:"inline",width:"16px",height:"16px","float":"none"},".ya-partner__ads-link":{position:"relative","z-index":"10","margin-left":"5px","line-height":"normal","white-space":"nowrap"},".ya-partner__ads-l":{display:"inline-block",position:"relative",background:"none repeat scroll 0 0 transparent","padding-right":".75em"},".ya-partner__ads-r":{display:"inline-block","margin-left":"-5px",padding:"0 0 0 10px"},".ya-partner__ads-r .ya-partner__ads-link":{margin:"0 5px 0 0"},"a.ya-partner__ads-link-r,a.ya-partner__ads-link-r:link,a.ya-partner__ads-link-r:hover,a.ya-partner__ads-link-r:visited,a.ya-partner__ads-link-r:active,a.ya-partner__ads-link-r:focus,a.ya-partner__ads-link-l,a.ya-partner__ads-link-l:link,a.ya-partner__ads-link-l:hover,a.ya-partner__ads-link-l:visited,a.ya-partner__ads-link-l:active,a.ya-partner__ads-link-l:focus":{"font-weight":"normal"},"a.ya-partner__title-link,a.ya-partner__title-link:link,a.ya-partner__title-link:hover,a.ya-partner__title-link:visited,a.ya-partner__title-link:active,a.ya-partner__title-link:focus":{"font-weight":"normal","line-height":"normal","text-decoration":"none"},"a.ya-partner__title-link .ya-partner__title-link-text,a.ya-partner__title-link .ya-partner__title-link-text:link,a.ya-partner__title-link .ya-partner__title-link-text:hover,a.ya-partner__title-link .ya-partner__title-link-text:visited,a.ya-partner__title-link .ya-partner__title-link-text:active,a.ya-partner__title-link .ya-partner__title-link-text:focus":{display:"inline","text-decoration":"underline"},".ya-partner_text_clickable a.ya-partner__title-link .ya-partner__title-link-text, .ya-partner_text_clickable a.ya-partner__address":{"text-decoration":"none"},".ya-partner_text_clickable a.ya-partner__title-link:hover .ya-partner__title-link-text, .ya-partner_text_clickable a.ya-partner__address:hover":{"text-decoration":"underline"},".ya-partner_ads-up .ya-partner__ads":{position:"relative",display:"block"},".ya-partner_ads-up .ya-partner__ads-l":{"padding-bottom":"1px","vertical-align":"top","border-radius":"4px 0 0 0","-moz-border-radius":"4px 0 0 0","-webkit-border-radius":"4px 0 0 0"},".ya-partner_ads-up .ya-partner__ads-r":{"padding-bottom":"1px","vertical-align":"top","border-radius":"0 0 4px 0","-moz-border-radius":"0 0 4px 0","-webkit-border-radius":"0 0 4px 0"},".ya-partner_ads-down .ya-partner__ads":{position:"absolute",bottom:0},".ya-partner_ads-down .ya-partner__list":{"padding-bottom":"1em"},".ya-partner_ads-down .ya-partner__ads-l":{"border-radius":"0 0 0 3px","-moz-border-radius":"0 0 0 3px","-webkit-border-radius":"0 0 0 3px"},".ya-partner_ads-down .ya-partner__ads-r":{"border-radius":"0 4px 0 0","-moz-border-radius":"0 4px 0 0","-webkit-border-radius":"0 4px 0 0"},".ya-partner_ads_inner-up-down .ya-partner__list":{margin:"0 0 1em"},".ya-partner_ads-up-down .ya-partner__list":{margin:"1em 0"},".ya-partner_ads_inner-up-down .ya-partner__ads-l, .ya-partner_ads-up-down .ya-partner__ads-l":{"border-radius":"3px 0 0 0","-moz-border-radius":"3px 0 0 0","-webkit-border-radius":"3px 0 0 0"},".ya-partner_ads-up-down .ya-partner__ads-l":{position:"absolute",top:0},".ya-partner_ads-up-down .ya-partner__ads-link":{display:"inline-block","padding-bottom":"2px"},".ya-partner_ads-up-down .ya-partner__ads-r .ya-partner__ads-link":{"padding-bottom":"1px"},".ya-partner_ads_inner-up-down .ya-partner__ads-r, .ya-partner_ads-up-down .ya-partner__ads-r":{position:"absolute",bottom:0,width:"100%",margin:0,padding:0,"border-radius":"0 0 4px 4px","-moz-border-radius":"0 0 4px 4px","-webkit-border-radius":"0 0 4px 4px"},".ya-partner_ads_inner-up-down .ya-partner__ads-r":{left:0},".ya-partner_ads-up-down .ya-partner__ads-r":{"border-radius":"0 0 3px 3px","-moz-border-radius":"0 0 3px 3px","-webkit-border-radius":"0 0 3px 3px"},".ya-partner_ads_inner-up-down .ya-partner__ads-link, .ya-partner_ads-up-down .ya-partner__ads-link":{"margin-left":"5px"},".ya-partner_ads_inner-up .ya-partner__ads":{display:"block"},".ya-partner_ads_inner-up .ya-partner__ads-l, .ya-partner_ads_inner-up .ya-partner__ads-r":{"vertical-align":"top"},".ya-partner_ads_inner-up .ya-partner__ads-l":{"border-radius":"4px 0 0 0","-moz-border-radius":"4px 0 0 0","-webkit-border-radius":"4px 0 0 0"},".ya-partner_ads_inner-up .ya-partner__ads-r":{"border-radius":"0 4px 0 0","-moz-border-radius":"0 4px 0 0","-webkit-border-radius":"0 4px 0 0"},".ya-partner_ads_inner-down .ya-partner__ads":{display:"block"},".ya-partner_ads_inner-down .ya-partner__ads-l":{"border-radius":"0 0 0 4px","-moz-border-radius":"0 0 0 4px","-webkit-border-radius":"0 0 0 4px"},".ya-partner_ads_inner-down .ya-partner__ads-r":{"border-radius":"0 0 4px 0","-moz-border-radius":"0 0 4px 0","-webkit-border-radius":"0 0 4px 0"},".ya-partner_ads_inner-down .ya-partner__ads-link, .ya-partner_ads-down .ya-partner__ads-link":{display:"inline-block","padding-bottom":"1px"},".ya-partner_ads_only-arrow .ya-partner__ads":{"margin-right":"0.5em"},".ya-partner_margin_yes .ya-partner__icon":{"margin-left":"-20px"},".ya-partner_margin_yes .ya-partner__item":{"padding-left":"20px"},".ya-partner__wrap-fit":{display:"block",zoom:"1",position:"relative","padding-bottom":"1px","font-size":"inherit","border-radius":"4px 4px 4px 4px"}},cssIe:{".ya-partner":{"font-size":"100%",zoom:"1"},".ya-partner_type_horiz, .ya-partner_type_vert, .ya-partner_type_flat":{display:"table",width:"100%","border-spacing":0},".ya-partner__ads":{left:0,"white-space":"nowrap"},".ya-partner_ads-up .ya-partner__ads,.ya-partner_ads-down .ya-partner__ads":{overflow:"hidden"},".ya-partner__item":{"padding-bottom":"0.3em"},".ya-partner__agewarn":{position:"relative"},".ya-partner__agewarn-cont":{"float":"none",display:"inline"},"* html .ya-partner__ads-l, * html .ya-partner__ads-r":{display:"inline",zoom:"1"},".ya-partner_ads_inner-up-down .ya-partner__list, .ya-partner_ads-up-down .ya-partner__list":{margin:"1em 0"},".ya-partner_ads_inner-up-down .ya-partner__ads-l, .ya-partner_ads-up-down .ya-partner__ads-l":{position:"absolute",top:0},".ya-partner_ads-up-down .ya-partner__ads-link":{"padding-bottom":"1px","*padding-bottom":"2px","_padding-bottom":"2px"},".ya-partner_ads-up-down .ya-partner__ads-l":{"line-height":"130%"},".ya-partner_ads-up-down .ya-partner__ads-r":{"*left":"-3px",_left:"-3px"},".ya-partner__ads-link":{position:"static","line-height":"normal"},".ya-partner_ads_only-arrow .ya-partner__list":{"-zoom":"1"},".ya-partner_ads_inner-down .ya-partner__ads":{overflow:"hidden"},".ya-partner_ads_only-arrow .ya-partner__icon":{"margin-top":"2px"},".ya-partner_ads_inner-up .ya-partner__item_pos_first":{position:"relative","z-index":"10",zoom:"1"},".ya-partner_ads_inner-up .ya-partner__ads-link":{"line-height":"normal"},"* html .ya-partner_ads_inner-down .ya-partner__list":{zoom:"1"},".ya-partner_border.ya-partner_ads-down .ya-partner__wrap-fit .ya-partner__ads":{margin:0},".ya-partner_ads_inner-up-down, .ya-partner_ads-up-down":{"padding-top":0},"* html .ya-partner__item, * html .ya-partner__text":{_zoom:"1","*zoom":"auto"},"* html .ya-partner__text":{"margin-top":"-0.1em"},"* html .ya-partner_ads_inner-up-down .ya-partner__ads-link-l":{zoom:"1"},".ya-partner_ads_inner-up-down .ya-partner__ads":{"font-size":"82%"}},constructor:function(a){function n(){var t=this.getMainCont();!l&&t&&(i.each(o(".ya-partner__icon",t.firstChild),e),l=!0)}i.Context.Direct.Direct.superclass.constructor.call(this,a);var s=function(){var t,e,a,n=this.getMainCont();return n?(t=n.firstChild,e=o(".ya-partner__ads-l",t)[0],a=o(".ya-partner__ads-r",t)[0],e&&a&&e.offsetWidth+a.offsetWidth>n.offsetWidth&&(o.classNameExists(t,"ya-partner_ads-up")||o.classNameExists(t,"ya-partner_ads-down")?(o.removeClass(t,"ya-partner_ads-up"),o.removeClass(t,"ya-partner_ads-down"),o.addClass(t,"ya-partner_ads-up-down")):(o.classNameExists(t,"ya-partner_ads_inner-up")||o.classNameExists(t,"ya-partner_ads_inner-down"))&&(o.removeClass(t,"ya-partner_ads_inner-up"),o.removeClass(t,"ya-partner_ads_inner-down"),o.addClass(t,"ya-partner_ads_inner-up-down"))),r):!0},l=!1;this.on("afterInsert",s,this),this.on("afterInsert",n,this),i.Utils.DomEvent.on(t,"load",s,this),i.Utils.DomEvent.domReady(s,this),i.Utils.DomEvent.domReady(n,this)},createTemplObj:function(t,e){var r=i.Context.Direct.Direct.superclass.createTemplObj.call(this,t,e);switch(r.pic=this.getPicParams(t),this.typography(t,r.pic.layout),this.settings.favicon&&this.setFaviconSrc(t),this.settings.format.name.toLowerCase()){case"728x90":this.prepareFor728x90(r);break;case"1000x120":this.prepareFor1000x120(r)}return r},prepareFor728x90:function(t){var e=t.pic.imgCount;if(0==e.rollingTo[1])return t;var r=t.ads;r[0].images&&r[0].warning||r[1]&&r[1].images&&r[1].warning?(r.length=1,t.isQuasiFlat=!0):(r[0].images||r[1]&&r[1].images)&&(r.length=2,t.isQuasiFlat=!0)},prepareFor1000x120:function(t){var e=t.pic.imgCount,r=t.ads;r[3]&&r[3].images&&1==e.rollingTo[3]?r.length=3:e.rollingTo[2]>0&&(r.length=3,t.isQuasiFlat=!0)},typography:function(t,e){for(var r,a=t.length,n=0;a>n;n++)r=t[n],"string"==typeof r.body&&(r.body=i.Utils.prettify(r.body,{gluePrepositions:!(r.images&&e!=i.Const.ImageLayout.NONE)})),"string"==typeof r.title&&(r.title=i.Utils.prettify(r.title)),"string"==typeof r.domain&&(r.site=r.domain.replace(/^www\./,""));return t},getPicParams:function(t){function e(t){for(var e=0,r=[],a=0,n=t.length;n>a;a++)t[a].images&&e++,r[a]=e;return{total:e,rollingTo:r}}var r=this.settings.format,a=r.name,n=r.type,o=e(t),s=i.Const.ImageLayout.NONE,l=a==i.Const.BlockTypes.AUTO||n==i.Const.BlockTypes.VERTICAL||n==i.Const.BlockTypes.HORIZONTAL||"240x400"==a||"200x300"==a||"300x300"==a||"300x250"==a||"250x250"==a;l&&(s=i.Const.ImageLayout.FLOAT),("728x90"==a||n==i.Const.BlockTypes.FLAT)&&(s=i.Const.ImageLayout.LEFT),"160x600"==a&&(s=i.Const.ImageLayout.FULL),"1000x120"==a&&(s=i.Const.ImageLayout.FLOAT);var p=i.Const.ImageSize.M,d="240x400"==a&&1==o.total||"160x600"==a||"300x300"==a||"300x250"==a||a==i.Const.BlockTypes.VERTICAL||a==i.Const.BlockTypes.HORIZONTAL||a==i.Const.BlockTypes.AUTO;d&&(p=i.Const.ImageSize.L);var c=i.Const.ImageAxis.X,_="728x90"==a||"1000x120"==a||n==i.Const.BlockTypes.HORIZONTAL||a==i.Const.BlockTypes.AUTO;return _&&(c=i.Const.ImageAxis.Y),{imgCount:o,layout:s,size:p,axis:c}},setFaviconSrc:function(t){var e,r,a=t.length;for(r=0;a>r;r++)e=t[r],e.domain&&(e.favicon="//favicon.yandex.net/favicon/"+i.Utils.Punycode.toASCII(e.domain));return t},addWarningCss:function(t){var e=this.settings,r=e.bgColor||e.bgStartColor||e.siteBgColor||"#FFFFFF";this.addCssStyle(".ya-partner__warn, .ya-partner__agewarn",t,{border:"1px solid "+i.Utils.Warning.getBorderColor(r,e.textColor),"background-color":i.Utils.Warning.getBgColor(r)})},addHeaderBorderCss:function(t){var e=this.settings,r="ya-partner_ads",a="ya-partner_theme_"+e.format.type,n="";e.borderType==i.Const.BorderTypes.AD?(r+="_inner",a+="_inner",n=".ya-partner__item"):e.borderType==i.Const.BorderTypes.BLOCK&&(this.addModificatorClass("ya-partner_border"),n=".ya-partner_border"),-1!=e.headerPosition.indexOf(i.Const.Header.TOP)&&(r+="-up"),-1!=e.headerPosition.indexOf(i.Const.Header.BOTTOM)&&(r+="-down"),this.addModificatorClass(a),this.addModificatorClass(r),this.addCssStyle(n||".ya-partner",t,{background:e.bgColor}),e.format.fixed||e.format.type!=i.Const.BlockTypes.HORIZONTAL&&e.format.type!=i.Const.BlockTypes.FLAT&&e.format.type!=i.Const.BlockTypes.VERTICAL||e.borderType!=i.Const.BorderTypes.BLOCK||!i.isIE||(n=".ya-partner__wrap-fit"),this.addCssStyle(n,t,{border:"1px solid "+e.borderColor||"transparent"}),e.borderRadius||((e.borderType==i.Const.BorderTypes.BLOCK||e.borderType==i.Const.BorderTypes.NONE)&&this.addCssStyle([".ya-partner_ads-down .ya-partner__ads-l",".ya-partner_ads-up .ya-partner__ads-l"],t,{"border-radius":0,"-moz-border-radius":0,"-webkit-border-radius":0}),this.addCssStyle(".ya-partner, .ya-partner__wrap-fit, .ya-partner__item",t,{"border-radius":0}))},addGradientBg:function(t){var e,r=this.settings,a={},n="";(r.format.name==i.Const.BlockTypes.AUTO||r.format.fixed)&&r.bgStartColor&&r.bgEndColor&&(e="linear-gradient(bottom, "+r.bgStartColor+" 49%, "+r.bgEndColor+" 100%)",i.isOpera?n="-o-":i.isGecko?n="-moz-":i.isIE?(n="-ms-",a.zoom=1,a.filter="progid:DXImageTransform.Microsoft.Gradient(Enabled=true, GradientType=0, StartColorStr="+r.bgStartColor+", EndColorStr="+r.bgEndColor+")"):(i.isSafari||i.isChrome)&&(n="-webkit-"),a["background-image"]=n+e,this.addCssStyle(".ya-partner",t,a))},setFontSize:function(t){var e=this.settings;return e.format.fixed?!1:(e.format.name==i.Const.BlockTypes.ROW?3==e.titleFontSize&&this.addCssStyle(".ya-partner__title-link-text",t,{"font-weight":"bold"}):(this.addCssStyle(".ya-partner__title-link-text",t,{"font-size":e.titleFontSizePercent}),e.format.fixed||"107%"!=e.titleFontSizePercent||this.addCssStyle(".ya-partner__title-link-text",t,{"font-weight":"bold"})),this.addCssStyle(".ya-partner",t,{"font-size":e.fontSize+"em"}),r)},setFontColors:function(t){var e=this.settings,r=[".ya-partner__title-link-text:visited",".ya-partner__title-link-text:link",".ya-partner__title-link-text:hover",".ya-partner__title-link-text"],a=".ya-partner__title-link-text:hover";i.isIE&&(r=[".ya-partner__title-link:visited",".ya-partner__title-link:link",".ya-partner__title-link:hover",".ya-partner__title-link"],a=".ya-partner__title-link:hover"),this.addCssStyle(r,t,{color:e.titleColor}),this.addCssStyle(a,t,{color:e.hoverColor});var n=[".ya-partner__region",".ya-partner__domain-link",".ya-partner__address"];this.addCssStyle(n,t,{color:e.urlColor}),this.addCssStyle(".ya-partner, .ya-partner__text",t,{"font-family":e.fontFamily,color:e.textColor})},setArrowColors:function(t){var e,a=this.settings,n=a.headerBgColor,o=n||"transparent",s=a.siteBgColor||"#FFFFFF",l=a.bgColor,p=a.c11n.arrowTextColor,d="",c="underline",_='url("data:image/gif,GIF89a%C8%00)%00%80%01%00%',y="%FF%FF%FF!%F9%04%01%00%00%01%00%2C%00%00%00%00%C8%00)%00%00%02%AB%84%8F%A9%CB%ED%0F%A3%9C%B4%DA%1B%B2%DE%B7%FB%0F%86%E2%E8lf%40%A6%EA%CA%B6%D2%A9%B9%F2L%D7%14%9C%D9%FA%CE%CBx%0F%0C%0A-%BF%A1%F1%884%C0%92%CC%E6n%E9%8CJY%A7%A9%F5%0A%AAb%B7%DC%17%A7%0B%0E'L%E2%B2%F8kNc%D1%EA%B64%E6%8E%3B%E1%F2%3A2g%CF%0F%F1%FA~%0F%E5%17%A8%03(XhxhF%88%B8(%A2%C8%F8%88%E1%089%E9Ei%E9%25y%A9%89%40%B7%E9%A9%D4%F9%B9%C9%26zIV%3AJ%8A%0A%A9%B5J%D9%EA%FA%08%15%2B%0BK%7BXt%8B%98%AB%5B%88%93%D9%AB%F7%1B%EC%3BL%1C%F8%1BP%00%00%3B\")";i.isIE6||i.isIE7||i.isIEQuirks?(this.addCssStyle(".ya-partner__ads-l,.ya-partner__ads-link-l em",t,{background:"none repeat scroll 0 0 "+o}),this.addCssStyle(".ya-partner__ads-l",t,{"padding-right":"5px"})):/^#?([A-F\d]{2})([A-F\d]{2})([A-F\d]{2})$/i.test(n)&&this.addCssStyle(".ya-partner__ads-l",t,{background:_+[RegExp.$1,RegExp.$2,RegExp.$3].join("%")+y+" 100% 50% no-repeat scroll transparent"}),i.isIE6&&"transparent"===o&&this.addCssStyle(".ya-partner__ads-arrow-i",t,{border:"none"}),(!n||n==l&&a.borderType!==i.Const.BorderTypes.AD||(!l||a.borderType==i.Const.BorderTypes.AD)&&n==s)&&(d="underline"),(a.borderType==i.Const.BorderTypes.AD&&-1!=a.headerPosition.indexOf(i.Const.Header.TOP)||a.borderType==i.Const.BorderTypes.BLOCK&&a.headerPosition==i.Const.Header.BOTTOM)&&(d=""),(a.borderType==i.Const.BorderTypes.BLOCK&&-1!=a.headerPosition.indexOf(i.Const.Header.BOTTOM)||a.borderType==i.Const.BorderTypes.AD&&a.headerPosition==i.Const.Header.TOP)&&(c=""),this.addCssStyle("a.ya-partner__ads-link-r:link,a.ya-partner__ads-link-r:hover,a.ya-partner__ads-link-r:visited",t,{"text-decoration":c}),e=new i.Utils.RGB(n||(a.borderType==i.Const.BorderTypes.AD?s:l||s)).checkContrast(),p===r&&(p=e?"#000":"#fff"),this.addCssStyle("a.ya-partner__ads-link-l:link,a.ya-partner__ads-link-l:hover,a.ya-partner__ads-link-l:visited",t,{"text-decoration":d,color:p}),e=new i.Utils.RGB(a.borderType==i.Const.BorderTypes.AD?s:l||s).checkContrast(),p=e?"#000":"#fff",this.addCssStyle("a.ya-partner__ads-link-r:link,a.ya-partner__ads-link-r:hover,a.ya-partner__ads-link-r:visited",t,{color:p})},decorateCss:function(t){return this.setFontColors(t),this.setFontSize(t),this.addHeaderBorderCss(t),this.addWarningCss(t),this.setArrowColors(t),this.addGradientBg(t),t}})}(),i.Context.Direct.Mobile=i.extend(i.Context.Direct.Direct,{fontSizeMin:.9,fontSizeMax:1.1,html:'<div id="<%=mainContId%>"><div class="ya-partner-mob"><% for (var i=0, ads = data.ads, ln = ads.length; i < data.ads.length; i++) { %><div class="ya-partner-mob__title"><a href="<%=ads[i].url%>" class="ya-partner-mob__title-link" target="_blank"><%=ads[i].title%></a></div><div class="ya-partner-mob__txt"><%=ads[i].body%><% if (ads[i].age) { %> <yatag class="ya-partner-mob__agewarn"><%= ads[i].age %></yatag><% } %></div><% if (ads[i].debug) { %><div class="ya-partner-mob__txt"><%=ads[i].debug%></div><% } %><% if (ads[i].warning) { %><div class="ya-partner-mob__alert"><%=ads[i].warning%></div><% } %><div class="ya-partner-mob__info"><% if (ads[i].callUrl && ads[i].telNum && (data.isPda || Ya.isOperaMini)) { %><a class="ya-partner-mob__info-link" href="<%=ads[i].callUrl%>" target="_blank">\u041f\u043e\u0437\u0432\u043e\u043d\u0438\u0442\u044c</a><% } else if (ads[i].callUrl && ads[i].telNum) {%><a class="ya-partner-mob__phone ya-partner-mob__phone__unpressed" href="<%=ads[i].callUrl%>" target="_blank"><span class="ya-partner-mob__phone-inner"><%=ads[i].telNum%></span></a><% } %><% if (ads[i].vcardUrl) { %><a class="ya-partner-mob__info-link" href="<%=ads[i].vcardUrl%>" target="_blank">\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043d\u0430 \u043a\u0430\u0440\u0442\u0435</a><% } %><div class="ya-partner-mob__info-link"><%=ads[i].domain%></div></div><% if (data.yaTitle) { %><div class="ya-partner-mob__ya"><span class="ya-partner-mob__ya-link"><%=yaTitle%></span></div><% } %><% } %></div></div>',css:{".ya-partner-mob":{"font-family":"Arial, sans-serif",padding:"3px 0 0","-webkit-text-size-adjust":"none"},".ya-partner-mob__title":{"font-size":"120%"},".ya-partner-mob__title-link":{"text-decoration":"none"},".ya-partner-mob__txt":{},".ya-partner-mob__agewarn":{display:"inline-block",font:"normal normal 85% Tahoma, Arial, sans-serif","border-radius":"5px",padding:"0 1px","vertical-align":"baseline"},".ya-partner-mob__ya-link":{"font-size":"70%",color:"#FFFFFF","float":"left",position:"relative","padding-right":"5px","text-decoration":"none",background:"none repeat scroll 0 0 #EEEEEE"},".ya-partner-mob__ya":{clear:"both",overflow:"hidden"},".ya-partner-mob__alert":{"font-size":"70%",padding:"0 2px"},".ya-partner-mob__info-link":{display:"inline-block","padding-right":"8px","white-space":"nowrap"},".ya-partner-mob__ya-link em":{"font-style":"normal","line-height":"100%"},".ya-partner-mob__phone,.ya-partner-mob__phone-inner, .ya-partner-mob__title-link,.ya-partner-mob__txt,.ya-partner-mob,.ya-partner-mob__title,.ya-partner-mob__ya-link,.ya-partner-mob__alert,.ya-partner-mob__info-link,.ya-partner-mob__ya, .ya-partner-mob__info":{"line-height":"100%"},".ya-partner-mob__phone":{"padding-right":"8px"}},createTemplObj:function(t,e,r){var a=i.Context.Direct.Mobile.superclass.createTemplObj.call(this,t,e,r);return a.isPda=this.isPda,a},setFontSize:function(t){var e=this.settings;this.addCssStyle(".ya-partner-mob",t,{"font-size":100*e.fontSize+"%","font-family":e.fontFamily})},setFontColors:function(t){var e=this.settings;this.addCssStyle(".ya-partner-mob__title-link",t,{color:e.titleColor}),this.addCssStyle(".ya-partner-mob__info-link",t,{color:e.urlColor}),this.addCssStyle(".ya-partner-mob__txt",t,{color:e.textColor})},setArrowColors:function(t){var e,r,a=this.settings,n=a.headerBgColor,o=a.siteBgColor||"#FFFFFF",s=a.borderColor;e=new i.Utils.RGB(n||s||o).checkContrast(),e&&(r="#000"),this.addCssStyle(".ya-partner-mob__ya-link",t,{background:n||s||"transparent",color:r})},addWarningCss:function(t){var e=this.settings,r=e.bgColor||e.bgStartColor||e.siteBgColor||"#FFFFFF";this.addCssStyle(".ya-partner-mob__alert,.ya-partner-mob__agewarn",t,{border:"1px solid "+i.Utils.Warning.getBorderColor(r,e.textColor)}),this.addCssStyle(".ya-partner-mob__alert,.ya-partner-mob__agewarn",t,{"background-color":i.Utils.Warning.getBgColor(r)})},addHeaderBorderCss:function(t){var e=this.settings;this.addCssStyle(".ya-partner-mob",t,{background:e.bgColor}),this.addCssStyle(".ya-partner-mob",t,{border:"1px solid "+e.borderColor||"transparent"})}}),i.Context.Direct.TouchBlock=i.extend(i.Context.Direct.Mobile,{css:{".ya-partner-mob__title":{margin:"0 10px 2px"},".ya-partner-mob__txt":{margin:"0 10px 1px"},".ya-partner-mob__info":{margin:"0px 10px 1px"},".ya-partner-mob__alert":{margin:"0 10px"},".ya-partner-mob__ya-link":{padding:"2px 3px 2px 10px","vertical-align":"middle"},".ya-partner-mob__info-link":{"text-decoration":"none"},".ya-partner-mob__phone":{"text-align":"center","text-decoration":"none",position:"relative",display:"inline-block",margin:"0 8px 0 0",padding:"1px","text-shadow":"0 1px 0px #fbfbfb",color:"#000",border:"0","-webkit-border-radius":"3px","border-radius":"3px","-webkit-appearance":"none","-webkit-user-select":"none","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)"},".ya-partner-mob__phone__unpressed":{background:"-webkit-gradient(linear, 0 100%, 0 0, color-stop(0, rgba(49, 49, 49, 0.5)), color-stop(1, rgba(192, 192, 192, 0.6)))"},".ya-partner-mob__phone__pressed":{background:"-webkit-gradient(linear, 0 0, 0 100%, color-stop(0, rgba(91, 91, 91, 0.6)), color-stop(1, rgba(109, 109, 109, 0.4)))"},".ya-partner-mob__phone__unpressed .ya-partner-mob__phone-inner":{background:"-webkit-gradient(linear, 0 100%, 0 0, color-stop(0, rgba(179, 179, 179, 0.66)), color-stop(0.08, rgba(210, 210, 210, 0.66)), color-stop(0.9, rgba(255, 255, 255, 0.9)))"},".ya-partner-mob__phone__pressed .ya-partner-mob__phone-inner":{background:"-webkit-gradient(linear, 0 0, 0 100%, from(rgba(216, 216, 216, 0.66)), to(rgba(251, 251, 251, 0.8)))","-webkit-box-shadow":"inset 0px 1px 3px 0px rgba(0, 0, 0, 0.28)"},".ya-partner-mob__phone-inner":{display:"inline-block",padding:"0 6px 1px","-webkit-border-radius":"2px","border-radius":"2px"},".ya-partner-mob__phone-inner,.ya-partner-mob__phone-inner,.ya-partner-mob__phone__unpressed,.ya-partner-mob__phone__pressed":{"line-height":"100%"}},init:function(){var t=i.Utils.DomEvent,e=o(".ya-partner-mob__phone",this.getMainCont(!0))[0];t.on(e,"touchstart",this.touchHn,this),t.on(e,"touchend",this.touchHn,this)},touchHn:function(){var t=o(".ya-partner-mob__phone",this.getMainCont(!0))[0];o.toggleClassName(t,"ya-partner-mob__phone__pressed")},clearEvents:function(){i.Context.Direct.TouchBlock.superclass.clearEvents.call(this);var t=i.Utils.DomEvent,e=o(".ya-partner-mob__phone",this.getMainCont(!0))[0];t.un(e,"touchstart",this.touchHn,this),t.un(e,"touchend",this.touchHn,this)},setFontSize:function(t){var e=this.settings;e.fontSize=i.Utils.checkValue(e.fontSize-.1,this.fontSizeMin,this.fontSizeMax,1),i.Context.Direct.TouchBlock.superclass.setFontSize.call(this,t)}}),i.Context.Direct.PdaBlock=i.extend(i.Context.Direct.Mobile,{isPda:!0,css:{".ya-partner-mob__title":{margin:"0 5px"},".ya-partner-mob__txt":{margin:"0 5px 1px"},".ya-partner-mob__info":{margin:"1px 5px 0px"},".ya-partner-mob__alert":{margin:"0 5px"},".ya-partner-mob__ya-link":{padding:"0px 3px 0px 5px"},".ya-partner-mob__info-link":{"text-decoration":"underline"}}}),i.Context.Direct.Vertical=i.extend(i.Context.Direct.Direct,{classes:"ya-partner_type_vert",css:{".ya-partner_type_vert ":{"min-width":"50px",clear:"both"},":root .ya-partner_type_vert":{display:"table\\0/IE9",width:"100%\\0/IE9"},":root .ya-partner_type_vert.ya-partner_border.ya-partner_ads-down .ya-partner__ads":{bottom:"1px\\0/IE9"},".ya-partner_type_vert .ya-partner__item,.ya-partner_type_vert .ya-partner__warn,.ya-partner_type_vert .ya-partner__text,.ya-partner_type_vert .ya-partner__url":{display:"block"},".ya-partner_type_vert .ya-partner__item":{margin:"0 0 0.5em 0",padding:"0.5em"},".ya-partner_theme_vertical_inner .ya-partner__url":{"padding-bottom":"1px"},".ya-partner_theme_vertical_inner .ya-partner__item_piclayout_float .ya-partner__pic-container":{"margin-bottom":"1px"},".ya-partner_type_vert .ya-partner__text,.ya-partner_type_vert .ya-partner__warn":{margin:"0.4em 0"},".ya-partner_type_vert .ya-partner__item_pic_yes":{padding:"3px .5em"},".ya-partner_type_vert .ya-partner__item_pos_last":{margin:0}},cssIe:{".ya-partner_type_vert .ya-partner__list":{zoom:"1"},"html* .ya-partner_ads-down .ya-partner__ads":{},".ya-partner_type_vert.ya-partner_ads_inner-up-down .ya-partner__wrap-fit":{"padding-top":"1px"}}}),i.Context.Direct.Horizontal=i.extend(i.Context.Direct.Direct,{classes:"ya-partner_type_horiz",css:{".ya-partner_type_horiz":{display:"inline-block",width:"100%","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box","box-sizing":"border-box"},":root .ya-partner_type_horiz":{display:"table\\0/IE9",width:"100%\\0/IE9"},":root .ya-partner_type_horiz.ya-partner_border.ya-partner_ads-down .ya-partner__ads":{bottom:"1px\\0/IE9"},".ya-partner_type_horiz:before,.ya-partner_type_horiz:after":{content:'""',display:"table","border-spacing":"0",border:"0"},".ya-partner_type_horiz .ya-partner__list":{display:"table",width:"100%",margin:"0",padding:"0",border:"none","border-spacing":"0","font-size":"inherit"},".ya-partner_ads-down table.ya-partner__list":{"margin-bottom":"1em"},"body .ya-partner_type_horiz .ya-partner__item":{position:"static"},".ya-partner_type_horiz .ya-partner__tr":{"font-size":"inherit"},".ya-partner_type_horiz .ya-partner__item":{padding:"0.5em","vertical-align":"top","border-spacing":"0","font-size":"inherit","border-collapse":"separate"},".ya-partner_type_horiz .ya-partner__gap":{"font-size":"10px",width:"0.5em",margin:"0",border:"none",background:"none"},".ya-partner_type_horiz table.ya-partner__list, .ya-partner_type_horiz td.ya-partner__item,.ya-partner_type_horiz td.ya-partner__gap":{"border-collapse":"separate"},".ya-partner_type_horiz .ya-partner__warn,.ya-partner_type_horiz .ya-partner__inner,.ya-partner_type_horiz .ya-partner__text,.ya-partner_type_horiz .ya-partner__url":{display:"block"},".ya-partner_type_horiz.ya-partner_ads_inner-down .ya-partner__item_pos_first":{"border-radius":"4px 4px 4px 0","-moz-border-radius":"4px 4px 4px 0","-webkit-border-radius":"4px 4px 4px 0"},".ya-partner_ads_inner-down .ya-partner__item_pos_last, .ya-partner_ads_inner-up-down .ya-partner__item_pos_last":{"border-radius":"4px"},".ya-partner_type_horiz .ya-partner__item_pos_last":{"margin-right":"0"},".ya-partner_type_horiz .ya-partner__text, .ya-partner_type_horiz .ya-partner__warn":{margin:"0.4em 0"}},cssIe:{".ya-partner_ads-down .ya-partner__list":{zoom:"1"},"html* .ya-partner_ads-down .ya-partner__ads":{_bottom:"-1px"},".ya-partner_type_horiz .ya-partner__item, .ya-partner_type_horiz .ya-partner__tr, .ya-partner_type_horiz .ya-partner__list":{"font-size":"100%"},".ya-partner_type_horiz:before,.ya-partner_type_horiz:after":{font:"0/0 a",content:"."}},constructor:function(t){i.Context.Direct.Horizontal.superclass.constructor.call(this,t);var e,a,n=1.2;for(this.css=this.css||{},e=2;4>=e;e++)for(a=e;a>=0;a--){var s=n*a+(e-a),l=Math.ceil(100*n/s)+"%",p=Math.ceil(100/s)+"%",d=Math.ceil(100/e)+"%",c=".ya-partner_type_horiz .ya-context__list_item_"+e+".ya-context__list_picnum_"+a+" "+".ya-partner__item";i.isIE6||i.isIEQuirks||this.async&&i.isIE7?this.css[".ya-partner_type_horiz .ya-context__list_item_"+e+" "+".ya-partner__item"]={width:d}:(this.css[c]={width:p},this.css[c+".ya-partner__item_pic_yes"]={width:l})}var _=function(){var t=this.getMainCont(),e=o(".ya-partner__list",this.getMainCont())[0],a=o(".ya-partner__item",t),n=o(".ya-partner__item_pic_yes",t);return a&&a.length&&e?(i.isIE6||i.isIEQuirks?o.addClass(e,"ya-context__list_item_"+a.length):o.addClass(e,"ya-context__list_item_"+a.length+" ya-context__list_picnum_"+n.length),r):!1
};this.on("afterRender",_,this)}}),i.Context.Direct.Flat=i.extend(i.Context.Direct.Direct,{classes:"ya-partner_type_flat",css:{".ya-partner_type_flat .ya-partner__title-link, .ya-partner_type_flat .ya-partner__text, .ya-partner_type_flat .ya-partner__url":{display:"inline","vertical-align":"baseline"},":root .ya-partner_type_flat":{display:"table\\0/IE9",width:"100%\\0/IE9"},":root .ya-partner_type_flat.ya-partner_border.ya-partner_ads-down .ya-partner__ads":{bottom:"1px\\0/IE9"},".ya-partner_type_flat .ya-partner__item":{display:"block","line-height":"normal"},".ya-partner_type_flat .ya-partner__text":{"padding-left":"0.5em"},".ya-partner_type_flat .ya-partner__warn":{display:"block","margin-top":"0.3em"},".ya-partner_type_flat .ya-partner__text .ya-partner__agewarn-cont":{"float":"none"},".ya-partner_type_flat .ya-partner__text .ya-partner__clearfix":{display:"none"},".ya-partner_type_flat .ya-partner__l-td":{"vertical-align":"middle"},".ya-partner_type_flat .ya-partner__l-table":{width:"100%"},".ya-partner_type_flat .ya-partner__l-pic-td":{width:"1px"},".ya-partner_type_flat .ya-partner__item_pic_yes .ya-partner__text":{display:"block"},".ya-partner_theme_flat_inner .ya-partner__item":{"margin-bottom":"0.5em"},".ya-partner_theme_flat_inner .ya-partner__item_pos_last":{"margin-bottom":"0"},".ya-partner_type_flat-simple .ya-partner__list":{},".ya-partner_type_flat-simple .ya-partner__url":{display:"block","margin-top":"0.3em"},".ya-partner_type_flat-simple .ya-partner__item":{"padding-top":"0.5em","padding-bottom":"0.5em"},".ya-partner_type_flat-simple .ya-partner__item_pic_yes":{"padding-top":".2em","padding-bottom":".2em"},".ya-partner_type_flat-simple .ya-partner__text":{"padding-left":"0"}},cssIe:{".ya-partner_type_flat":{zoom:"1"},".ya-partner_theme_flat .ya-partner__icon":{"margin-bottom":"-2px"},"html* .ya-partner_ads-down .ya-partner__list":{"padding-bottom":0,"_margin-bottom":"0.9em"}},constructor:function(t){if(i.Context.Direct.Flat.superclass.constructor.call(this,t),!this.settings.format.fixed)return!0;var e=i.Utils.DomEvent,r=function(){var t,e,r=this.advs.length,a=this.getMainCont(),n=!1;if(!a)return!0;for(t=a.firstChild,e=0;r>e;e++)if(this.advs[e].warning){n=!0;break}n&&o.addClass(t,"ya-partner__hide-urls")};this.on("afterInsert",r,this),e.domReady(r,this)}}),i.Context.Direct.Auto=i.extend(i.Context.Direct.Horizontal,{classes:"ya-partner_type_auto",css:{".ya-partner_type_auto":{display:"block"},".ya-partner__close-text":{display:"inline"},".ya-partner__close-button":{display:"inline"},".ya-partner__close":{bottom:"-0.2em",right:"1em",cursor:"pointer",margin:"0",position:"absolute"},".ya-partner_type_auto .ya-partner__ads":{width:"100%"}},cssIe:{".ya-partner__close":{bottom:"0"}},constructor:function(t){i.Context.Direct.Auto.superclass.constructor.call(this,t),this.on("afterRender",function(){this.initCloseLink()})},insertHtml:function(t){var r=e.body,a=e.createElement("div");return r?(r.insertBefore(a,r.firstChild),a.innerHTML=t,r.insertBefore(a.firstChild,a),o.remove(a),!0):(i.Utils.DomEvent.domReady(function(){this.insertHtml(t)},this),!0)},initCloseLink:function(){var t=i.Utils.DomEvent;t.on(o(".ya-partner__close",this.getMainCont())[0],"click",function(){this.destructor()},this),t.on(o(".ya-partner__close-text",this.getMainCont())[0],"click",function(){this.destructor()},this)},decorateCss:function(t){i.Context.Direct.Auto.superclass.decorateCss.call(this,t);var e=this.getCssStyle(".ya-partner__ads-link-l","color",t),r=new i.Utils.RGB(this.settings.bgColor||"#FFFFFF");e=new i.Utils.RGB(e),e.checkContrast()&&!r.checkContrast()||!e.checkContrast()&&r.checkContrast()?this.addCssStyle(".ya-partner__close",t,{color:""+e}):(e=this.getCssStyle(".ya-partner__ads-link-r","color",t),this.addCssStyle(".ya-partner__close",t,{color:e}))},getAdvsCount:function(){return this.settings.format.limit}}),function(t,e){function a(t,e,r){a=t.style.setProperty?function(t,e,r){t.style.setProperty(e,r,"important")}:function(t,e,r){t.style.cssText+=";"+e+":"+r+" !important"},a(t,e,r)}function n(t){return t.which!==r&&2==t.which?!0:t.button===r||1!=t.button&&4!=t.button?!1:!0}function o(t,e,r){var a,r=r||null,o=500;i.Utils.DomEvent.on(t,"mousedown",function(t){n(t)&&(a=+new Date)}),i.Utils.DomEvent.on(t,"mouseup",function(t){if(n(t)){var i=+new Date;o>=i-a&&e.call(r)}})}function l(t,e){return t.replace(/\[([^\[\]]*)\]/g,function(t,r){return""+e[r]})}function p(){return~~(1e6*Math.random())}function d(){return e.body}var c=500,_={"float":"1",shift:"2"};t.Ya=t.Ya||{},i.HeadStripe={_postfix:p(),hasBeenDisplayed:!1,_animationTimer:null,_type:_.float,_animated:!1,css:"body .ya-head-stripe[ns] {            position: absolute !important;            left: 0 !important;            top: 0 !important;            width: 100% !important;            min-width: 660px !important;            height: [height] !important;            font-size: [fontSize] !important;            background-color: [backgroundColor] !important;            z-index: [zIndex]1 !important;            overflow: hidden !important;            box-shadow: 1px 1px 1px #999 !important;        }        .ya-head-stripe[ns],        .ya-head-stripe[ns] div,        .ya-head-stripe[ns] i,        .ya-head-stripe[ns] a {            float: none !important;            clear: none !important;            cursor: default !important;            border: 0 !important;            outline: 0 !important;            padding: 0 !important;            margin: 0 !important;            background: none;            letter-spacing: normal !important;            text-indent: 0 !important;            text-transform: none !important;            text-align: left !important;            vertical-align: middle !important;            font-family: Arial, Verdana, Tahoma, sans-serif !important;            font-style: normal !important;            font-weight: normal !important;            font-variant: normal !important;            visibility: visible !important;            white-space: normal !important;            word-spacing: normal !important;            min-width: 0 !important;            min-height: 0 !important;            line-height: normal !important;        }        body .ya-head-stripe_animation-position_0[ns] {            top: -[height] !important;        }        body .ya-head-stripe_animation-position_1[ns] {            top: 0 !important;        }        body .ya-head-stripe_animation-position_2[ns] {            top: -[height] !important;        }        body .ya-head-stripe__background-gradient[ns] {            position: absolute !important;            left: 0 !important;            top: 0 !important;            width: 100% !important;            height: 100% !important;            background-color: transparent !important;            background-position: 0 0 !important;            background-repeat: repeat-x !important;            background-image: [backgroundGradient] !important;            z-index: [zIndex]2 !important;        }        body .ya-head-stripe__background-image[ns] {            position: absolute !important;            left: 0 !important;            top: 0 !important;            width: 100% !important;            height: 100% !important;            background-color: transparent !important;            background-position: [backgroundImageLeft] 0 !important;            background-repeat: no-repeat !important;            background-image: [backgroundImage] !important;            z-index: [zIndex]3 !important;        }                body .ya-head-stripe__void[ns] {            position: absolute !important;            left: 0 !important;            top: 0 !important;            width: 100% !important;            height: 100% !important;            z-index: [zIndex]4 !important;            font-size: 0 !important;            line-height: 0 !important;        }                body .ya-head-stripe__text1[ns] {            position: absolute !important;            top: 0 !important;            left: [text1Left] !important;            width: auto !important;            height: 100% !important;            line-height: [height] !important;            font-size: [fontSize] !important;            text-decoration: [text1Decoration];            vertical-align: middle !important;            z-index: [zIndex]5 !important;        }                body a.ya-head-stripe__text1[ns]:link,        body a.ya-head-stripe__text1[ns]:visited {            color: [text1Color] !important;            text-decoration: [text1Decoration];        }                body a.ya-head-stripe__text1[ns]:hover {            color: [text1HoverColor] !important;            text-decoration: [text1Decoration];        }                body a.ya-head-stripe__text1[ns]:active {            color: [text1Color] !important;            text-decoration: [text1Decoration];        }                body a.ya-head-stripe__text1[ns]:focus {            color: [text1Color] !important;            text-decoration: [text1Decoration];        }                body .ya-head-stripe__text2[ns] {            position: absolute !important;            left: [text2Left] !important;            top: 0 !important;            width: auto !important;            height: 100% !important;            color: [text2Color] !important;            line-height: [height] !important;            font-size: [fontSize] !important;            vertical-align: middle !important;            z-index: [zIndex]5 !important;        }                body a.ya-head-stripe__text1[ns],        body a.ya-head-stripe__text2[ns],        body div.ya-head-stripe__close[ns],        body span.ya-head-stripe__close-text[ns],        body span.ya-head-stripe__close-times[ns] {            cursor: pointer !important;            white-space: nowrap !important;        }                body a.ya-head-stripe__text2[ns]:link,        body a.ya-head-stripe__text2[ns]:visited {            color: [text2Color] !important;            text-decoration: [text2Decoration];        }                body a.ya-head-stripe__text2[ns]:hover {            color: [text2HoverColor] !important;            text-decoration: [text2Decoration];        }                body a.ya-head-stripe__text2[ns]:active {            color: [text2Color] !important;            text-decoration: [text2Decoration];        }                body a.ya-head-stripe__text2[ns]:focus {            color: [text2Color] !important;            text-decoration: [text2Decoration];        }                body .ya-head-stripe__close[ns] {            position: absolute !important;            display: inline-block !important;            top: 0 !important;            right: [closeLeft] !important;            width: auto !important;            height: [height] !important;            color: [closeColor] !important;            line-height: [height] !important;            vertical-align: middle !important;            text-align: right !important;            z-index: [zIndex]5 !important;            white-space: nowrap !important;        }                body .ya-head-stripe__close-text[ns] {            display: inline !important;            position: static !important;            border-bottom: [closeDecoration] dotted [closeColor] !important;            text-decoration: none !important;            line-height: [height] !important;            font-size: [fontSize] !important;        }                body .ya-head-stripe__close[ns]:hover {            color: [closeHoverColor] !important;        }                body .ya-head-stripe__close-text[ns]:hover {            border-bottom: [closeDecoration] dotted [closeHoverColor] !important;        }                body .ya-head-stripe__close-times[ns] {            display: inline !important;            position: static !important;            font-size: [fontSize] !important;            line-height: [height] !important;            margin-bottom: 0 !important;            margin-right: 5px !important;        }                body .ya-head-stripe__cap[ns] {            display: block !important;            position: static !important;            width: 100%;            height: [height];            line-height: 0 !important;            font-size: 0 !important;            background: none !important;        }                body .ya-head-stripe__cap-animation_yes[ns] {            -moz-transition: height [animationTime] !important;            -webkit-transition: height [animationTime] !important;            -o-transition: height [animationTime] !important;            -ms-transition: height [animationTime] !important;        }                body .ya-head-stripe__cap-animation-position_0[ns] {            height: 0 !important;        }                body .ya-head-stripe__cap-animation-position_1[ns] {            height: [height]  !important;        }                body .ya-head-stripe__cap-animation-position_2[ns] {            height: 0 !important;        }                body .ya-head-stripe__age-warning[ns] {            position: absolute !important;            display: inline-block !important;            color: [text1Color] !important;            width: auto !important;            height: [height] !important;            font-size: [fontSize] !important;            line-height: [height] !important;            position: absolute !important;            vertical-align: middle !important;            z-index: [zIndex]6 !important;            top: 0 !important;            right: 2px !important;        }",_columns:[0,2,10,18,26,34,42,50,58,66,74,82,90,98,100],_calcLeft:function(t){return 0>t&&(t=0),t>14&&(t=14),this._columns[t]+"%"},_maxZIndex:2e5,autoRender:!0,loadStripeData:function(t){!this._loadedOnce&&t.stripe&&t.stripe.data&&(this._loadedOnce=!0,this._prefs=t.stripe.data,this.validatePrefs(),t.common.stripeType&&t.common.stripeType===_.shift&&(this._type=_.shift),t.common.stripeAnimation&&"1"===t.common.stripeAnimation&&(this._animated=!(i.isIE6||i.isIE7||i.isIE8)),this._prefs.linkNext&&(this._prefs.linkNext=t.common.linkHead+this._prefs.linkNext),this.autoRender&&this.renderBlock())},renderBlock:function(e){e=e||i.emptyFn,this._prefs&&t.top==t&&!this.hasBeenDisplayed?(this.init(),this.injectStripeStyles(),this.injectStripeNode(),this._prefs.linkNext&&this.addVisibilityCheck(),this.hasBeenDisplayed=!0,e(!0)):e(!1)},validatePrefs:function(){var t=this._prefs;t.autoClose=parseInt(t.autoClose,10)||0,t.fontSize=parseInt(t.fontSize,10)||0,t.height=parseInt(t.height,10)||0,t.text1Left=parseInt(t.text1Left,10)||0,t.text2Left=parseInt(t.text2Left,10)||0,t.closeLeft=parseInt(t.closeLeft,10)||0,t.backgroundImageLeft=parseInt(t.backgroundImageLeft,10)||0},init:function(){var t=this;this._isInited&&this.destroyStripeNode(),this._isInited=!0,this._postfix++,this._prefs.autoClose&&(this._autoCloseTimer=s.setProtectedTimeout(function(){t.close()},1e3*this._prefs.autoClose))},injectStripeStyles:function(){var t=e.createElement("style"),r=this.css,a=this._prefs,n=a.backgroundGradient?"url("+a.backgroundGradient+")":"none",o=a.backgroundImage?"url("+a.backgroundImage+")":"none",s=a.height+(-1==(""+a.height).search(/[w]/)?"px":""),p=a.fontSize+(-1==(""+a.fontSize).search(/[w]/)?"pt":""),_=this._calcLeft(this._columns.length-a.closeLeft-1||0),y=this;r=l(r,{height:s,fontSize:p,animationTime:(this._animated?c:0)+"ms",text1Color:a.text1Color||"#fff",text1HoverColor:a.text1HoverColor||"#fff",text1Decoration:this._textDecoration(a.text1Decoration),text1Left:this._calcLeft(a.text1Left||0),text2Color:a.text2Color||"#fff",text2HoverColor:a.text2HoverColor||"#fff",text2Decoration:this._textDecoration(a.text2Decoration),text2Left:this._calcLeft(a.text2Left||0),closeColor:a.closeColor||"#fff",closeHoverColor:a.closeHoverColor||"#fff",closeDecoration:a.closeDecoration?"1px":"none",closeLeft:_,backgroundGradient:n,backgroundColor:a.backgroundColor||"none",backgroundImage:o,backgroundImageLeft:this._calcLeft(a.backgroundImageLeft||0),zIndex:this._maxZIndex,ns:this._postfix}),t.type="text/css",i.Utils.DomEvent.domReady(function(){var e=d();e.firstChild&&i.isIE?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=r:y.isWebkit()?t.innerText=r:t.innerHTML=r},this),this._cssNode=t},_textDecoration:function(t){return t===!0?"underline":t?t:"none"},isWebkit:function(){return-1!=(t.navigator.userAgent||"").search("webkit")},injectStripeNode:function(){var t,r,n,s,l,p,c,y=e.createElement("div"),h=this._prefs,u=this;this._root=y,y.className="ya-head-stripe"+this._postfix,a(y,"top",-1*h.height+"px"),this._type===_.shift&&(this._cap=p=e.createElement("div"),p.className="ya-head-stripe__cap"+this._postfix,d().insertBefore(p,d().firstChild),a(p,"height","0px")),h.text1&&(t=e.createElement(h.text1Url?"a":"div"),t.className="ya-head-stripe__text1"+this._postfix,t.innerHTML=h.text1,h.text1Url&&(t.href=h.text1Url,h.text1Target&&(t.target=h.text1Target)),o(t,this.close,this),i.Utils.DomEvent.on(t,"click",this.close,this),y.appendChild(t)),h.text2&&(r=e.createElement(h.text2Url?"a":"div"),r.className="ya-head-stripe__text2"+this._postfix,r.innerHTML=h.text2,h.text2Url&&(r.href=h.text2Url,h.text2Target&&(r.target=h.text2Target)),o(r,this.close,this),i.Utils.DomEvent.on(r,"click",this.close,this),y.appendChild(r)),h.close&&(n=e.createElement("div"),n.className="ya-head-stripe__close"+this._postfix,n.innerHTML='<span class="ya-head-stripe__close-times'+this._postfix+'">&#215;</span>'+'<span class="ya-head-stripe__close-text'+this._postfix+'">'+h.close+"</span>",o(n,function(){this.setStripeClosedCookie(),this.close()},this),i.Utils.DomEvent.on(n,"click",function(){this.setStripeClosedCookie(),this.close()},this),y.appendChild(n)),h.backgroundGradient&&(s=e.createElement("div"),s.className="ya-head-stripe__background-gradient"+this._postfix,y.appendChild(s)),h.backgroundImage&&(s=e.createElement("div"),s.className="ya-head-stripe__background-image"+this._postfix,y.appendChild(s)),h.ageRestriction&&(c=e.createElement("div"),c.className="ya-head-stripe__age-warning"+this._postfix,c.innerHTML=h.ageRestriction,a(c,"height","20px"),y.appendChild(c)),l=e.createElement(h.voidUrl?"a":"div"),l.className="ya-head-stripe__void"+this._postfix,h.voidUrl&&(l.href=h.voidUrl,h.voidTarget&&(l.target=h.voidTarget)),i.Utils.DomEvent.on(l,"click",this.close,this),y.appendChild(l),i.Utils.DomEvent.domReady(function(){var t=d();if(t.firstChild&&i.isIE?t.insertBefore(y,t.firstChild):t.appendChild(y),this._animated){var e=[{element:y,property:"top",from:-1*this._prefs.height,to:0}];this._cap&&e.push({element:this._cap,property:"height",from:0,to:h.height}),this._animate(e)}else a(y,"top","0px"),u._cap&&a(p,"height",h.height+"px")},this)},close:function(){var t=this;if(!this._animationTimer){var e=function(){t.destroyStripeNode()};if(this._animated){var r=[{element:this._root,property:"top",from:0,to:-1*this._prefs.height}];this._cap&&r.push({element:this._cap,property:"height",from:this._prefs.height,to:0}),this._animate(r,e)}else s.setProtectedTimeout(e,200)}},setStripeClosedCookie:function(){(new Image).src=this._prefs.closeUrl},destroyStripeNode:function(){this._isInited&&(this._cancelAnimation(),this._root&&(d().removeChild(this._root),delete this._root),this._cssNode&&(d().removeChild(this._cssNode),delete this._cssNode),this._cap&&(d().removeChild(this._cap),delete this._cap),this._autoCloseTimer&&(clearTimeout(this._autoCloseTimer),delete this._autoCloseTimer),this.removeVisibilityCheck(),this._isInited=!1)},hasVisibilityCheckBinded:!1,isSentVisibility:!1,addVisibilityCheck:function(){if(this.hasVisibilityCheckBinded)return!0;this.hasVisibilityCheckBinded=!0;var e=this;s.setProtectedTimeout(function(){e.checkVisibility.call(e)},15);var r=i.Utils.DomEvent,a={buffer:200};r.on(t,"scroll",this.checkVisibility,this,a),r.on(t,"resize",this.checkVisibility,this,a),r.on(t,"load",this.checkVisibility,this,a)},removeVisibilityCheck:function(){var e=i.Utils.DomEvent;e.un(t,"scroll",this.checkVisibility,this),e.un(t,"resize",this.checkVisibility,this),e.un(t,"load",this.checkVisibility,this),this.hasVisibilityCheckBinded=!1},_waitToCheck:null,checkVisibility:function(){if(this.isSentVisibility)return!0;var t=this,e=this._root,r=function(){clearTimeout(t._waitToCheck),t._waitToCheck=null};i.Utils.isInViewPort(e)?this._waitToCheck||(this._waitToCheck=s.setProtectedTimeout(function(){r(),i.Utils.isInViewPort(e)&&t.sendVisibility()},i.Const.Limits.stripeVisibCheckDelay)):r()},sendVisibility:function(){this.isSentVisibility||((new Image).src=this._prefs.linkNext,this.removeVisibilityCheck()),this.isSentVisibility=!0},_animate:function(t,e){var r=15,n=Math.floor(c/r),o=this,l=function(p){o._animationTimer=s.setProtectedTimeout(function(){i.each(t,function(t){var e=t.from+p*(t.to-t.from)/r;a(t.element,t.property,e.toFixed(3)+"px")}),r>p?l(p+1):(o._animationTimer=null,e&&e())},n)};l(1)},_cancelAnimation:function(){this._animationTimer&&(clearTimeout(this._animationTimer),this._animationTimer=null)}}}(t,e),i.Context.Direct.Stripe=i.extend(i.Context.Adv,{showAdvs:function(){return!0}}),i.Context.Direct.Row=i.extend(i.Context.Direct.Direct,{classes:"ya-partner_type_row ya-partner_ads_only-arrow ya-partner__hide-urls",css:{".ya-partner_type_row":{height:"2.2em",overflow:"hidden"},".ya-partner_type_row .ya-partner__item":{padding:"0.4em 0.5em",display:"block","border-radius":"","white-space":"nowrap",overflow:"hidden","-webkit-text-overflow":"ellipsis","-moz-text-overflow":"ellipsis","-ms-text-overflow":"ellipsis","text-overflow":"ellipsis"},".ya-partner_type_row .ya-partner":{"border-radius":""},".ya-partner_type_row .ya-partner__text .ya-partner__agewarn-cont":{"float":"none"},".ya-partner_type_row .ya-partner__address":{"margin-right":"0.5em"},".ya-partner_type_row .ya-partner__title-link, .ya-partner_type_row .ya-partner__title-link-text":{"white-space":"nowrap"},".ya-partner_type_row .ya-partner__text":{margin:"0 0.4em","white-space":"nowrap"},".ya-partner_type_row .ya-partner__ads-l":{"line-height":"1.8em"},".ya-partner_type_row .ya-partner__url":{display:"inline"}},addHeaderBorderCss:function(t){i.Context.Direct.Row.superclass.addHeaderBorderCss.call(this,t);var e=this.settings;this.addCssStyle(".ya-partner",t,{background:e.bgColor})},decorateCss:function(t){t=i.Context.Direct.Row.superclass.decorateCss.call(this,t);var e=this.settings.c11n;return"minWidth"in e&&this.addCssStyle(".ya-partner_type_row",t,{"min-width":e.minWidth+"px"}),"itemPadding"in e&&this.addCssStyle(".ya-partner_type_row .ya-partner__item",t,{padding:e.itemPadding}),"arrowTextUnderline"in e&&i.isArray(e.arrowTextUnderline)&&(this.addCssStyle("a.ya-partner__ads-link-l:link,a.ya-partner__ads-link-l:visited",t,{"text-decoration":e.arrowTextUnderline[0]?"underline":"none"}),this.addCssStyle("a.ya-partner__ads-link-l:hover",t,{"text-decoration":e.arrowTextUnderline[1]?"underline":"none"})),t}}),i.ns("Ya.Context.Direct");var l="normal",p="block",d={classes:"ya-partner_fixed_yes",css:{".ya-partner_fixed_yes":{"font-size":"12px"},".ya-partner_fixed_yes *, .ya-partner_fixed_yes yatag":{"font-family":"Arial, sans-serif","word-spacing":l,"letter-spacing":l},".ya-partner_fixed_yes .ya-partner__ads":{"line-height":"13px","font-size":"11px"},".ya-partner_fixed_yes .ya-partner__item":{"line-height":"14px",margin:0,padding:"3px 6px"},".ya-partner_fixed_yes.ya-partner_ads-down .ya-partner__list":{"padding-bottom":"14px"},".ya-partner_fixed_yes.ya-partner_ads_inner-up-down .ya-partner__list, .ya-partner_fixed_yes.ya-partner_ads-up-down .ya-partner__list":{margin:"12px 0",padding:"3px 0"}}};i.Context.Direct.VertFixed=i.extend(i.Context.Direct.Vertical,d),i.Context.Direct.FlatFixed=i.extend(i.Context.Direct.Flat,d),i.Context.Direct["160x600"]=i.extend(i.Context.Direct.VertFixed,{classes:"ya-partner_type_160x600",css:{".ya-partner_type_160x600":{width:"160px",height:"600px"},":root body .ya-partner_type_160x600":{width:"160px",display:p},":root body .ya-partner_type_160x600.ya-partner_border.ya-partner_ads-down .ya-partner__ads":{bottom:0},".ya-partner_type_160x600 a.ya-partner__title-link:link,.ya-partner_type_160x600 a.ya-partner__title-link:visited,.ya-partner_type_160x600 a.ya-partner__title-link:hover":{"font-size":"15px","font-weight":l},".ya-partner_type_160x600 .ya-partner__text":{"font-size":"12px","font-weight":l,margin:"5px 0px 3px"},".ya-partner_type_160x600 .ya-partner__warn":{"font-size":"8.4px"},".ya-partner_type_160x600 .ya-partner__url":{"font-size":"11px","font-weight":l},".ya-partner_type_160x600 .ya-partner__item":{"margin-bottom":"6px"}},cssIe:{"body .ya-partner_type_160x600":{width:"160px",display:p}}}),i.Context.Direct["240x400"]=i.extend(i.Context.Direct.VertFixed,{classes:"ya-partner_type_240x400",css:{".ya-partner_type_240x400":{width:"240px",height:"400px"},":root body .ya-partner_type_240x400":{width:"240px",display:p},":root body .ya-partner_type_240x400.ya-partner_border.ya-partner_ads-down .ya-partner__ads":{bottom:0},".ya-partner_type_240x400 a.ya-partner__title-link:link,.ya-partner_type_240x400 a.ya-partner__title-link:visited,.ya-partner_type_240x400 a.ya-partner__title-link:hover":{"font-size":"15px","font-weight":l},".ya-partner_type_240x400 .ya-partner__text":{"font-size":"12px","font-weight":l,margin:"5px 0px 3px"},".ya-partner_type_240x400 .ya-partner__warn":{"font-size":"8.4px"},".ya-partner_type_240x400 .ya-partner__url":{"font-size":"11px","font-weight":l},".ya-partner_type_240x400 .ya-partner__item":{margin:0,padding:"5px 7px"}},cssIe:{"body .ya-partner_type_240x400":{width:"240px",display:p}}}),i.Context.Direct["200x300"]=i.extend(i.Context.Direct.VertFixed,{classes:"ya-partner_type_200x300",css:{".ya-partner_type_200x300":{width:"200px",height:"300px"},":root body .ya-partner_type_200x300":{width:"200px",display:p},":root body .ya-partner_type_200x300.ya-partner_border.ya-partner_ads-down .ya-partner__ads":{bottom:0},".ya-partner_type_200x300 a.ya-partner__title-link:link,.ya-partner_type_200x300 a.ya-partner__title-link:visited,.ya-partner_type_200x300 a.ya-partner__title-link:hover":{"font-size":"15px","font-weight":l},".ya-partner_type_200x300 .ya-partner__text":{"font-size":"12px","font-weight":l,margin:"5px 0px 3px"},".ya-partner_type_200x300 .ya-partner__warn":{"font-size":"8.4px"},".ya-partner_type_200x300 .ya-partner__url":{"font-size":"11px","font-weight":l}},cssIe:{"body .ya-partner_type_200x300":{width:"200px",display:p}}}),i.Context.Direct["300x300"]=i.extend(i.Context.Direct.VertFixed,{classes:"ya-partner_type_300x300",css:{".ya-partner_type_300x300":{width:"300px",height:"300px"},":root body .ya-partner_type_300x300":{width:"300px",display:p},":root body .ya-partner_type_300x300.ya-partner_border.ya-partner_ads-down .ya-partner__ads":{bottom:0},".ya-partner_type_300x300 a.ya-partner__title-link:link,.ya-partner_type_300x300 a.ya-partner__title-link:visited,.ya-partner_type_300x300 a.ya-partner__title-link:hover":{"font-size":"15px","font-weight":l},".ya-partner_type_300x300 .ya-partner__text":{"font-size":"12px","font-weight":l,margin:"5px 0px 3px"},".ya-partner_type_300x300 .ya-partner__warn":{"font-size":"8.4px"},".ya-partner_type_300x300 .ya-partner__url":{"font-size":"11px","font-weight":l}},cssIe:{"body .ya-partner_type_300x300":{width:"300px",display:p}}}),i.Context.Direct["300x250"]=i.extend(i.Context.Direct.VertFixed,{classes:"ya-partner_type_300x250",css:{".ya-partner_type_300x250":{width:"300px",height:"250px"},":root body .ya-partner_type_300x250":{width:"300px",display:p},":root body .ya-partner_type_300x250.ya-partner_border.ya-partner_ads-down .ya-partner__ads":{bottom:0},".ya-partner_type_300x250 a.ya-partner__title-link:link,.ya-partner_type_300x250 a.ya-partner__title-link:visited,.ya-partner_type_300x250 a.ya-partner__title-link:hover":{"font-size":"15px","font-weight":l,margin:"5px 0px 3px"},".ya-partner_type_300x250 .ya-partner__text":{"font-size":"12px","font-weight":l,margin:"5px 0 0"},".ya-partner_type_300x250 .ya-partner__warn":{"font-size":"8.4px"},".ya-partner_type_300x250 .ya-partner__list .ya-partner__item":{margin:0,padding:"7px 7px 3px 7px"},".ya-partner_type_300x250 .ya-partner__url":{"font-size":"11px","font-weight":l}},cssIe:{"body .ya-partner_type_300x250":{width:"300px",display:p}}}),i.Context.Direct["250x250"]=i.extend(i.Context.Direct.VertFixed,{classes:"ya-partner_type_250x250",css:{".ya-partner_type_250x250":{width:"250px",height:"250px"},":root body .ya-partner_type_250x250":{width:"250px",display:p},":root body .ya-partner_type_250x250.ya-partner_border.ya-partner_ads-down .ya-partner__ads":{bottom:0},".ya-partner_type_250x250 a.ya-partner__title-link:link,.ya-partner_type_250x250 a.ya-partner__title-link:visited,.ya-partner_type_250x250 a.ya-partner__title-link:hover":{"font-size":"15px","font-weight":l},".ya-partner_type_250x250 .ya-partner__text":{"font-size":"12px","font-weight":l,margin:"5px 0px 3px"},".ya-partner_type_250x250 .ya-partner__warn":{"font-size":"8.4px"},".ya-partner_type_250x250 .ya-partner__url":{"font-size":"11px","font-weight":l}},cssIe:{"body .ya-partner_type_250x250":{width:"250px",display:p}}}),i.Context.Direct["728x90"]=i.extend(i.Context.Direct.FlatFixed,{classes:"ya-partner_type_728x90",css:{".ya-partner_type_728x90":{width:"728px",height:"90px"},":root body .ya-partner_type_728x90":{width:"728px",display:p},":root body .ya-partner_type_728x90.ya-partner_border.ya-partner_ads-down .ya-partner__ads":{bottom:0},".ya-partner_type_728x90 yatag.ya-partner__item":{margin:"4px 0",padding:"0 3px"},".ya-partner_type_728x90 td.ya-partner__item":{margin:0,padding:"0 3px"},".ya-partner_type_728x90 .ya-partner__item_pic_yes":{margin:0},".ya-partner_type_728x90 .ya-partner__item_pic_yes .ya-partner__pic-container":{margin:"4px 4px 0 0"},".ya-partner_type_728x90 a.ya-partner__title-link:link,.ya-partner_type_728x90 a.ya-partner__title-link:visited,.ya-partner_type_728x90 a.ya-partner__title-link:hover":{"font-size":"15px","font-weight":l},".ya-partner_type_728x90 .ya-partner__text":{"font-size":"12px","font-weight":l,margin:"0 0 3px"},".ya-partner_type_728x90 .ya-partner__warn":{"font-size":"8.4px"},".ya-partner_type_728x90xIMG .ya-partner__warn":{display:"block"},".ya-partner_type_728x90 .ya-partner__url":{"font-size":"11px","font-weight":l},".ya-partner_type_728x90xIMG td.ya-partner__item":{"vertical-align":"middle"},".ya-partner_type_728x90 .ya-partner__ads":{left:"auto",right:0},"yatag.ya-partner_type_728x90xIMG table.ya-partner__list":{"padding-bottom":0,"margin-bottom":0},"yatag.ya-partner_type_728x90xIMG.ya-partner_fixed_yes.ya-partner_ads-down .ya-partner__list":{"padding-bottom":"4px"},".ya-partner_type_728x90 .ya-partner__ads .ya-partner__ads-l":{"border-radius":0,"-moz-border-radius":0,"-webkit-border-radius":0},".ya-partner_type_728x90 .ya-partner__ads .ya-partner__ads-r":{"border-radius":"0 0 4px 0","-moz-border-radius":"0 0 4px 0","-webkit-border-radius":"0 0 4px 0"}},cssIe:{"body .ya-partner_type_728x90":{width:"728px",display:p},"* html .ya-partner_type_728x90 .ya-partner__text":{"margin-top":"2.4px"},".ya-partner_type_728x90 .ya-partner__text":{"margin-top":"3px"}}}),i.Context.Direct["1000x120"]=i.extend(i.Context.Direct.FlatFixed,{classes:"ya-partner_type_1000x120",css:{".ya-partner_type_1000x120":{width:"1000px",height:"120px"},":root body .ya-partner_type_1000x120":{width:"1000px",display:p},":root body .ya-partner_type_1000x120.ya-partner_border.ya-partner_ads-down .ya-partner__ads":{bottom:0},".ya-partner_type_1000x120 yatag.ya-partner__item,.ya-partner_type_1000x120 td.ya-partner__item":{margin:"4px 0",padding:"0 3px"},".ya-partner_type_1000x120 .ya-partner__item_pic_yes":{margin:0},".ya-partner_type_1000x120 .ya-partner__item_pic_yes .ya-partner__pic-container":{margin:"4px 4px 0 0"},".ya-partner_type_1000x120 a.ya-partner__title-link:link,.ya-partner_type_1000x120 a.ya-partner__title-link:visited,.ya-partner_type_1000x120 a.ya-partner__title-link:hover":{"font-size":"15px","font-weight":l},".ya-partner_type_1000x120 .ya-partner__text":{"font-size":"12px","font-weight":l,margin:"0 0 3px"},".ya-partner_type_1000x120 .ya-partner__warn":{"font-size":"8.4px","margin-top":"0.3em"},".ya-partner_type_1000x120xIMG .ya-partner__warn":{display:"block"},".ya-partner_type_1000x120 .ya-partner__url":{"font-size":"13px","font-weight":l},".ya-partner_type_1000x120xIMG td.ya-partner__item":{"vertical-align":"top",padding:"3px"},".ya-partner_type_1000x120 .ya-partner__ads":{left:"auto",right:0},"yatag.ya-partner_type_1000x120xIMG table.ya-partner__list":{"padding-bottom":0,"margin-bottom":0},"yatag.ya-partner_type_1000x120xIMG.ya-partner_fixed_yes.ya-partner_ads-down .ya-partner__list":{"padding-bottom":"10px"},".ya-partner_type_1000x120 .ya-partner__ads .ya-partner__ads-l":{"border-radius":0,"-moz-border-radius":0,"-webkit-border-radius":0},".ya-partner_type_1000x120 .ya-partner__ads .ya-partner__ads-r":{"border-radius":"0 0 4px 0","-moz-border-radius":"0 0 4px 0","-webkit-border-radius":"0 0 4px 0"}},cssIe:{"body .ya-partner_type_1000x120":{width:"1000px",display:p},"* html .ya-partner_type_1000x120 .ya-partner__text":{"margin-top":"2.4px"},".ya-partner_type_1000x120 .ya-partner__text":{"margin-top":"3px"}}}),i.ns("Ya.Context.Market"),i.Context.Market.Vertical=i.extend(i.Context.Direct.Vertical,{getHtml:function(t,e){for(var r=0;t.length>r;r++)t[r].domain=t[r].domain+" &mdash; "+t[r].region;
return this.constructor.superclass.getHtml.call(this,t,e)},addVisibilityCheck:function(){i.Context.Market.visibSended||i.Utils.addScript(this.visibCheckLink),i.Context.Market.visibSended=!0,this.addVisibilityCheck=i.emptyFn},getVisibilityCheckLink:function(t){return this.visibCheckLink=t+"?wmode=3"}}),i.Context.Market.Horizontal=i.extend(i.Context.Direct.Horizontal,{getHtml:function(t,e){for(var r=0;t.length>r;r++)t[r].domain=t[r].domain+" &mdash; "+t[r].region;return this.constructor.superclass.getHtml.call(this,t,e)},addVisibilityCheck:function(){i.Context.Market.visibSended||i.Utils.addScript(this.visibCheckLink),i.Context.Market.visibSended=!0,this.addVisibilityCheck=i.emptyFn},getVisibilityCheckLink:function(t){return this.visibCheckLink=t+"?wmode=3"}}),i.ns("Ya.Context.Media"),i.Context.Media.Media=i.extend(i.Context.Direct.Direct,{css:{".ya-partner_type_media .ya-partner__ads":{display:"block"},".ya-partner_type_media .ya-partner__ads-l":{"border-radius":"4px 0 0"}},classes:"ya-partner_type_media",createTemplObj:function(t,e){var r,a=t[0],n=this.settings,o=this._grabPrototypeChain("classes").join(" ");return a.flashV=parseInt(a.flashV,10),a.ieOnly=parseInt(a.ieOnly,10),r=i.flashVer[0]<a.flashV||a.ieOnly&&!i.isIE?this.getImgHtml(a):this.getSWFHtml(a),{yaUrl:e.prodTitle.url||"",yaTitle:e.prodTitle.title||"",allAdvUrl:e.linkAll.url||"",allAdvTitle:e.linkAll.title||"",classes:o,ads:t,mainContId:this.mainContId,settings:n,format:n.format,mediaCode:r}},selectAdvs:function(t){return[t[0]]},getImgHtml:function(t){var e=(t.flashUrl||t.imgUrl)&&t.img,r="";return e&&(r+='<a href="'+(t.flashUrl||t.imgUrl)+"?rnd="+i.genRnd()+'" target="_blank">'),r+='<img src="'+t.img+"?rnd="+i.genRnd()+'"'+this.getBannerSizeStyle(t)+' title="'+t.alt+'" alt="'+t.alt+'" border="0" />',e&&(r+="</a>"),r},getSWFHtml:function(t){var e='<param name="quality" value="high" /><param name="wmode" value="transparent" /><param name="bgcolor" value="#ffffff" />',r=t.flash+"?rnd="+i.genRnd()+"&link1="+t.flashUrl,a="";return i.isIE?(a+='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+this.getBannerSizeStyle(t)+">",a+='<param name="movie" value="'+r+'" />'+e+"</object>"):a+=i.isGecko?'<embed src="'+r+'"'+this.getBannerSizeStyle(t)+' quality="high" wmode="transparent" bgcolor="#ffffff" type="application/x-shockwave-flash"></embed>':'<object type="application/x-shockwave-flash" data="'+r+'"'+this.getBannerSizeStyle(t)+">"+e+"</object>",t.count&&(a+='<img src="'+t.count+"?wmode=3"+'" width="1" height="1"/>'),a},getBannerSizeStyle:function(t){return' width="'+t.width+'" height="'+t.height+'" style="width:'+t.width+"px !important; height:"+t.height+'px !important;" '},decorateCss:function(t){return this.setArrowColors(t),t},addVisibilityCheck:i.emptyFn}),i.Context.RTB=i.extend(i.Context.Adv,{html:'<iframe id="<%=mainContId%>" width="<%=settings.width%>" height="<%=settings.height%>" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" vspace="0" hspace="0"></iframe>',constructor:function(e){i.Context.RTB.superclass.constructor.call(this,e),this.on("afterInsert",function(){var t=this.initBanner();t||this.fireEvent("renderFailed",this,this._mainCont,0)},this),this.on("afterRender",function(){this.async||(t.yandex_rtb_is_displayed=!0),t.yandex_ad_is_displayed=null})},_waitToCheck:null,checkVisibility:function(){if(this.isSentVisibility)return!0;var t=this,e=this.getMainCont(!0),r=function(){clearTimeout(t._waitToCheck),t._waitToCheck=null};i.Utils.isInViewPort(e)?(t.fireEvent("rtbBlockVisible"),this._waitToCheck||(this._waitToCheck=s.setProtectedTimeout(function(){r(),i.Utils.isHalfInViewPort(e)&&t.sendVisibility()},i.Const.Limits.visibCheckDelay))):r()},addVisibilityCheck:function(){if(!this.isAddedVisibCheck){this.isAddedVisibCheck=!0;var e=i.Utils.DomEvent,r={buffer:200};s.setProtectedTimeout(this.checkVisibility,0,this),e.on(t,"scroll",this.checkVisibility,this,r),e.on(t,"resize",this.checkVisibility,this,r),e.on(t,"load",this.checkVisibility,this,r)}},removeVisibilityCheck:function(){var e=i.Utils.DomEvent;e.un(t,"scroll",this.checkVisibility,this),e.un(t,"resize",this.checkVisibility,this),e.un(t,"load",this.checkVisibility,this),this.isAddedVisibCheck=!1,this.isSentVisibility=!1},createTemplObj:function(){return{mainContId:this.mainContId,settings:this.settings}},removeOverflow:i.emptyFn,insertCSS:i.emptyFn,getVisibilityCheckLink:function(){return""},initBanner:function(){var t,e=this,r=this.advs[0].html,a=function(){e.renderInIframe(r,t)};if(clearTimeout(this._renderIframeTimeoutRef),this._renderIntoIframeCount=0,!r)return!1;if(r=i.Utils.Base64.decode(r),t=o("#"+this.renderTo),!t)return!1;var n=this.isSentVisibility||!this.settings.displayDelayed;return n?a():this.on("rtbBlockVisible",i.Utils.once(a,this)),!0},_renderIframeTimeoutRef:null,_renderIntoIframeCount:0,renderInIframe:function(t,e){if(e){var r=e.getElementsByTagName("iframe")[0];if(i.isIE)r.contentWindow.name="<script>Ya = {externalParams:"+i.Utils.JSON.stringify(this.externalParams)+"}</script>"+t,r.src="javascript:var __yaHTML = this.name; this.name = ''; __yaHTML;";else{var a=r.contentDocument||(r.contentWindow?r.contentWindow.document:null),n=+new Date;if(!a){var o=arguments,l=this;5>this._renderIntoIframeCount++&&(this._renderIframeTimeoutRef=s.setProtectedTimeout(function(){l.renderInIframe.apply(l,o)},200))}i.Context.RTB[n]=this.externalParams,a&&a.open&&a.write&&a.close&&(a.open(),a.write("<!DOCTYPE html>"),a.write("<html><head></head><body>"),a.write('<script type="text/javascript">window.Ya = {externalParams: parent.Ya.Context.RTB['+n+"]};</script>"),a.write(t),a.write("</body></html>"),i.isOpera?a.write('<script type="text/javascript">document.close();</script>'):a.close())}}}}),i.ns("Ya.Context"),i.Context.configure=function(t){var e=i.Const.config=i.apply(i.Const.config,t);i.HeadStripe.autoRender=!!e.autoRenderStripeBlock,e.autoRenderStripeBlock?delete i.Context.renderStripeBlock:i.Context.renderStripeBlock=function(t){i.HeadStripe.renderBlock(t)}},i.ns("Ya.Direct"),i.Direct.insertInto=function(t,e,r,a){r=i.deepCopy({},r),r.renderTo=r.renderTo||r.place||e,i.Context.AdvManager.render({renderTo:r.renderTo,async:!0,blockId:t||i.partnerId,settings:r},a)},function(){function e(){var t=n("ad_format");if(t){var e={product:t};l(e,p),l(e,d,t),i.Context.AdvManager.render({async:!1,settings:e})}}function a(){for(var t=["yandexContextSyncCallbacks","yandex_context_callbacks","yandexContextAsyncCallbacks"],e=0;t.length>e;e++){var r=o(t[e]);if(r)for(var a=0;r.length>a;a++)r[a]()}}function n(t,e){return o("yandex_"+(e?e+"_":"")+t)}function o(e){var a=t[e];return t[e]=r,a}function l(t,e,r){for(var a=0;e.length>a;a++)t[e[a]]=n(e[a],r)}var p=["site_bg_color","font_size","site_charset","font_family","stat_id","user_gender","user_yearofbirth","user_external","lang"],d=["type","border_type","header_position","bg_color","border_radius","bg_start_color","bg_end_color","border_color","header_bg_color","title_color","text_color","category_color","url_color","all_color","hover_color","limit","place","callback","favicon","show_how_link","title_font_size","grab","updatetag","c11n"];i.Context._init=s.protect("Context._init",function(){e(),a()})}(),t.Ya=t.Ya||{},i._metrika=i._metrika||{},i._metrika.hitParam=i._metrika.hitParam||[]}(this,this.document),Ya.Context._init();